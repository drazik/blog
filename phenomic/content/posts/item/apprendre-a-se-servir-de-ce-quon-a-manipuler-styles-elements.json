{"filename":"index.md","title":"Apprendre à se servir de ce qu'on a : manipuler les styles des éléments","headings":[{"level":2,"text":"Manipuler les styles inline","id":"manipuler-les-styles-inline"},{"level":2,"text":"Manipuler les classes","id":"manipuler-les-classes"}],"date":"2015-05-14","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Ajouter, modifier, supprimer des styles inline, des classes... Autant de choses\nfacilitées par les jQuery-like, mais tout aussi simple à faire sans."]},"\n",{"t":"p","c":[{"t":"span","p":{"className":"more"}}]},"\n",{"t":"p","c":[{"t":"em","c":["Cet article est le troisième de la série ",{"t":"a","p":{"href":"/articles/apprendre-a-se-servir-de-ce-quon-a"},"c":["\"apprendre à se servir de ce qu'on\na\""]},", ayant pour objectif de\nmontrer que l'utilisation d'une bibliothèque telle que jQuery n'a pas toujours\nde sens. N'hésitez pas à parcourir les autres articles !"]}]},"\n",{"t":"h2","p":{"id":"manipuler-les-styles-inline"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#manipuler-les-styles-inline"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Manipuler les styles inline"]},"\n",{"t":"p","c":["Avec jQuery, on ferait ça de la manière suivante :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["var $element = $(\"#element\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["$element.css(\"background-color\", \"#000\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["$element.css({"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  color: \"#fff\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  display: \"block\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["});"]}]}]}]},"\n",{"t":"p","c":["Mais c'est tout aussi simple avec\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style"},"c":[{"t":"code","c":["HTMLElement.style"]}]},"\n:"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["var element = document.getElementById(\"element\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.backgroundColor = \"#000\";"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.color = \"#fff\";"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.display = \"block\";"]}]}]}]},"\n",{"t":"p","c":["Toutefois on n'a pas la possibilité de passer directement un objet à\n",{"t":"code","c":["HTMLElement.style"]},", comme on le fait avec la méthode ",{"t":"code","c":["css"]}," de jQuery, puisque\n",{"t":"code","c":["HTMLElement.style"]}," n'est pas un simple objet mais un ",{"t":"code","c":["CSSStyleDeclaration"]},". La\nliste des propriétés CSS accessibles accessible via ",{"t":"code","c":["style"]}," est disponible ",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Properties_Reference"},"c":["sur\nle\nMDN"]},"."]},"\n",{"t":"p","c":["Pour modifier plusieurs propriétés d'un seul coup, il est quand même possible\nd'utiliser ",{"t":"code","c":["CSSStyleDeclaration.cssText"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.cssText = \"background-color: #000; color: #fff; display: block;\";"]}]}]}]},"\n",{"t":"p","c":["Ca marche ©, mais c'est quand même beaucoup moins cool à lire qu'un objet."]},"\n",{"t":"ul","c":["\n",{"t":"li","c":[{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration"},"c":["Documentation de ",{"t":"code","c":["CSSStyleDeclaration"]}]}]},"\n"]},"\n",{"t":"h2","p":{"id":"manipuler-les-classes"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#manipuler-les-classes"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Manipuler les classes"]},"\n",{"t":"p","c":["Le plus simple pour gérer les classes d'un element, c'est\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Element/className?redirectlocale=en-US&redirectslug=DOM%2Felement.className"},"c":[{"t":"code","c":["Element.className"]}]},"\n:"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["var element = document.getElementById(\"element\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.className = \"toto\";"]}]}]}]},"\n",{"t":"p","c":["Avec ce bout de code, l'élément ayant l'id ",{"t":"code","c":["element"]}," se verra attribuer la\nclasse \"toto\". Toutefois, si l'élément a plusieurs classes, l'affectation de\nson ",{"t":"code","c":["className"]}," écrasera tout. On a donc besoin d'un moyen de gérer la liste\ndes classes de l'élément, et non pas la chaîne de caractères la représentant.\nCe qui nous mène à l'API\n",{"t":"a","p":{"href":"tps://developer.mozilla.org/en-US/docs/Web/API/Element/classList?redirectlocale=en-US&redirectslug=DOM%2Felement.classList"},"c":[{"t":"code","c":["Element.classList"]}]},"."]},"\n",{"t":"p","c":["Cette API est très simple puisqu'elle n'expose que 4 méthodes : ",{"t":"code","c":["add()"]},",\n",{"t":"code","c":["remove()"]},", ",{"t":"code","c":["toggle"]}," et ",{"t":"code","c":["contains"]},", donc les noms sont plutôt évocateurs :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div id=\"element\"></div>"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.add(\"toto\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"toto\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.remove(\"toto\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.toggle(\"toto\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"toto\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.toggle(\"toto\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["console.log(element.classList.contains(\"toto\"));"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// false"]}]}]}]},"\n",{"t":"p","c":["L'API ",{"t":"code","c":["classList"]}," n'est utilisable qu'à partir d'IE 10. Pour les versions\nantérieures, il faut donc faire appel à un polyfill tel que celui fournit sur\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList?redirectlocale=en-US&redirectslug=DOM%2Felement.classList#wrapper"},"c":["le\nMDN"]},"\nqui est compatible jusqu'à IE 8."]},"\n",{"t":"p","c":["Nous avons donc vu qu'il était possible de gérer les styles d'un élément du DOM\nvia ses styles inline, mais aussi sa liste de classes, et ce sans utiliser de\nbibliothèque tierces (uniquement un minuscule polyfill dans le cas où de\nvieilles versions d'IE devraient être supportées)."]}]}}