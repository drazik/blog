{"filename":"index.md","title":"webpack","headings":[{"level":2,"text":"Qu'est-ce que webpack ?","id":"quest-ce-que-webpack-"},{"level":2,"text":"Ici, tout est module","id":"ici-tout-est-module"},{"level":2,"text":"Installer webpack","id":"installer-webpack"},{"level":2,"text":"Configurer webpack","id":"configurer-webpack"},{"level":2,"text":"Les loaders","id":"les-loaders"},{"level":2,"text":"Importer autre chose que du JS","id":"importer-autre-chose-que-du-js"},{"level":2,"text":"Le mode watch","id":"le-mode-watch"}],"date":"2017-06-28","timeSensitive":true,"body":{"t":"div","c":[{"t":"h2","p":{"id":"quest-ce-que-webpack-"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#quest-ce-que-webpack-"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Qu'est-ce que webpack ?"]},"\n",{"t":"p","c":[{"t":"a","p":{"href":"https://webpack.js.org/"},"c":["webpack"]}," est un ",{"t":"em","c":["module bundler"]},". Il construit le\ngraphe de dépendances d'une application JS afin de les regrouper dans un ou\nplusieurs ",{"t":"em","c":["bundle(s)"]}," qui pourront être exécutés dans un navigateur web. Il\nnous permet donc d'écrire du code modulaire, bien que les navigateurs\nn'implémentent pour la plupart pas encore les modules ES2015. Il fait donc la\nmême chose que ",{"t":"a","p":{"href":"http://browserify.org/"},"c":["browserify"]},". Toutefois, webpack est\ntrès différent de browserify, de par sa philosophie bien particulière."]},"\n",{"t":"h2","p":{"id":"ici-tout-est-module"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#ici-tout-est-module"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Ici, tout est module"]},"\n",{"t":"p","c":["La philosophie de webpack est de traiter n'importe quelle dépendance d'une\napplication comme un module. Ainsi, un fichier JS est un module, un fichier CSS\nest un module, une image est un module... Tous ces modules sont consommables\ndirectement dans le code JS."]},"\n",{"t":"p","c":["On peut donc faire les choses suivantes avec webpack :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// Importer un module JS, classique"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["import add from \"./add.js\";"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// Importer un fichier CSS"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["import styles from \"./styles.css\";"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// Importer une image"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["import logo from \"./logo.png\";"]}]}]}]},"\n",{"t":"p","c":["Webpack est capable de gérer à peu près n'importe quel type de fichier, grâce à\nson systême de ",{"t":"em","c":["loaders"]},". À un type de fichier correspond un (ou plusieurs)\n",{"t":"em","c":["loader(s)"]},", qui a pour but de dire à webpack comment faire pour charger ce\ntype de fichier."]},"\n",{"t":"h2","p":{"id":"installer-webpack"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#installer-webpack"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Installer webpack"]},"\n",{"t":"p","c":["Rien de plus simple, ça se fait évidemment via ",{"t":"code","c":["npm"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--shell"},"c":[{"t":"span","c":["npm install --save-dev webpack"]}]}]}]},"\n",{"t":"p","c":["Une fois installé, le binaire de webpack est disponible dans\n",{"t":"code","c":["./node_modules/.bin/webpack"]},". Pour éviter d'avoir à taper le chemin complet à\nchaque fois, on peut écrire un script npm dans notre ",{"t":"code","c":["package.json"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--json"},"c":[{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["scripts"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[": "]},{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--dictionary syntax--begin syntax--json"},"c":[{"t":"span","c":["{"]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--json"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--json"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["build"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--value syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--separator syntax--dictionary syntax--key-value syntax--json"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["webpack"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--json"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--dictionary syntax--end syntax--json"},"c":[{"t":"span","c":["}"]}]}]}]}]}]},"\n",{"t":"p","c":["De cette manière, il suffira de taper ",{"t":"code","c":["npm run build"]},", plutôt que\n",{"t":"code","c":["./node_modules/.bin/webpack"]}," pour lancer webpack."]},"\n",{"t":"p","c":[{"t":"em","c":["Il est aussi possible d'",{"t":"a","p":{"href":"https://webpack.js.org/guides/installation/#global-installation"},"c":["installer webpack en\nglobal"]},", mais\nce n'est pas conseillé."]}]},"\n",{"t":"p","c":[{"t":"em","c":["Si vous voulez en savoir plus à propos des scripts npm, vous pouvez aller voir\nl'article ",{"t":"a","p":{"href":"/articles/ne-plus-installer-gulp-en-dependance-globale/"},"c":["\"ne plus installer gulp en dépendance\nglobale\""]},", qui traite\nde ce sujet."]}]},"\n",{"t":"h2","p":{"id":"configurer-webpack"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#configurer-webpack"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Configurer webpack"]},"\n",{"t":"p","c":["Pour faire fonctionner webpack, on va créer un fichier de configuration, nommé\n",{"t":"code","c":["webpack.config.js"]},". Le minimum requis est un point d'entrée et un point de\nsortie :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["const path = require(\"path\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["module.exports = {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  // Notre fichier source"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  entry: \"./assets/js/app.js\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  output: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    // le chemin vers le bundle que webpack va générer"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    path: path.resolve(__dirname, \"web/assets\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    // le nom du bundle"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    filename: \"bundle.js\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["};"]}]}]}]},"\n",{"t":"p","c":["Avec cette configuration minimale, webpack est capable de gérer nos dépendances\nJS. Donc, si on a la configuration suivante :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// assets/js/add.js"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["export default const add = (a, b) => a + b;"]}]}]}]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// assets/js/app.js"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["import add from \"./add.js\";"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["console.log(add(1, 2));"]}]}]}]},"\n",{"t":"p","c":["webpack générera un seul fichier, regroupant ",{"t":"code","c":["add.js"]}," et ",{"t":"code","c":["app.js"]},", et qui une\nfois importé dans une page web, affichera ",{"t":"code","c":["3"]}," dans la console."]},"\n",{"t":"p","c":[{"t":"em","c":["Note : webpack supporte par défaut la syntaxe des modules ES2015. Toutefois,\nc'est le seul aspect de cette syntaxe qu'il transpile directement. Pour le\nreste, il faut utiliser babel."]}]},"\n",{"t":"h2","p":{"id":"les-loaders"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#les-loaders"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Les loaders"]},"\n",{"t":"p","c":["webpack met à disposition une API permettant de lui dire ce qu'il doit faire\nlorsqu'il charge un module : les ",{"t":"em","c":["loaders"]},"."]},"\n",{"t":"p","c":["Par exemple, il est possible de lui dire \"tiens, webpack, lorsque tu charges un\nfichier JS, alors passe le dans babel pour récupérer le code transpilé avant de\ncréer ton bundle\". Pour ça, il faut d'abord installer\n",{"t":"a","p":{"href":"https://www.npmjs.com/package/babel-loader"},"c":[{"t":"code","c":["babel-loader"]}]}," et\n",{"t":"a","p":{"href":"https://www.npmjs.com/package/babel-core"},"c":[{"t":"code","c":["babel-core"]}]},". De plus, nous allons\naussi utiliser le preset\n",{"t":"a","p":{"href":"https://www.npmjs.com/package/babel-preset-env"},"c":[{"t":"code","c":["env"]}]},"."]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["npm install --save-dev babel-loader babel-core babel-preset-env"]}]}]}]},"\n",{"t":"p","c":["Il faut ensuite modifier notre configuration, pour y ajouter le loader et le\nconfigurer :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["const path = require(\"path\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["module.exports = {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  entry: \"./assets/js/app.js\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  output: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    path: path.resolve(__dirname, \"web/assets\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    filename: \"bundle.js\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  module: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    rules: ["]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // le test se fait sur le nom des fichiers qu'on importe"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // ici, on veut que cette règle s'applique à tous les fichiers dont"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // le nom se termine par \".js\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.js$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // on demande à webpack de n'appliquer cette règle qu'aux fichiers qui"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // se trouvent dans ./assets/js. Sinon, il l'appliquerait à tous les"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // fichiers JS, mêmes ceux de node_modules par exemple"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        include: path.join(__dirname, \"assets\", \"js\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // si le test passe, alors on veut appliquer le babel-loader"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"babel-loader\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // on passe des options au loader. Ici, on veut utiliser le preset \"env\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        options: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["          presets: [\"env\"]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    ]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["};"]}]}]}]},"\n",{"t":"p","c":["Lorsqu'il tombera sur un nouveau module à importer, webpack le confrontera à\ntoutes les règles que nous avons définies, et celles pour lesquelles le test\nest satisfait lui seront appliquées."]},"\n",{"t":"h2","p":{"id":"importer-autre-chose-que-du-js"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#importer-autre-chose-que-du-js"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Importer autre chose que du JS"]},"\n",{"t":"p","c":["Le graphe de dépendance créé par webpack permet de n'ajouter au bundle que les\nmodules effectivements importés dans notre application. Utiliser ce mécanisme\npour d'autres types de ressources serait très intéressant. Et justement, le\nsystème de loaders va nous permettre d'importer n'importe quel autre type de\nfichier directement dans notre JS, et de le consommer comme étant un module de\nnotre application."]},"\n",{"t":"p","c":["Prenons le cas d'un fichier CSS simple. Nous avons un fichier\n",{"t":"code","c":["assets/css/app.css"]}," contenant l'ensemble du style de notre site. Nous voulons\nque webpack ajoute celui-ci à son graphe de dépendances afin qu'il fasse partie\nde notre bundle final. On l'importe donc dans notre fichier ",{"t":"code","c":["app.js"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// assets/js/app.js"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["import styles from \"../css/app.css\";"]}]}]}]},"\n",{"t":"p","c":["Puis on demande à webpack de créer notre bundle avec ",{"t":"code","c":["npm run build"]},". Et on se\nprend l'erreur suivante :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["ERROR in ./assets/css/app.css"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["Module parse failed: C:\\Users\\ASUS\\workspace\\article-webpack\\assets\\css\\app.css Unexpected token (1:5)"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["You may need an appropriate loader to handle this file type."]}]}]}]},"\n",{"t":"p","c":["Ce que nous explique webpack, c'est qu'il aimerait bien importer notre fichier,\nmais il ne sait pas comment faire. En effet, webpack ne sait s'occuper que des\nfichiers JS out of the box. On va donc se servir d'un loader, non pas pour\ntransformer ce qui est importé, mais pour expliquer à webpack ce qu'il doit\nfaire quand on lui demande de charger un fichier CSS. Ce loader, c'est le\n",{"t":"a","p":{"href":"https://www.npmjs.com/package/css-loader"},"c":[{"t":"code","c":["css-loader"]}]},"."]},"\n",{"t":"p","c":["On commence par l'installer :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--shell"},"c":[{"t":"span","c":["npm install --save-dev css-loader"]}]}]}]},"\n",{"t":"p","c":["Puis on l'ajoute aux règles de notre configuration :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["const path = require(\"path\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["module.exports = {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  entry: \"./assets/js/app.js\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  output: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    path: path.resolve(__dirname, \"web/assets\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    filename: \"bundle.js\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  module: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    rules: ["]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.js$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"babel-loader\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        include: path.join(__dirname, \"assets\", \"js\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        options: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["          presets: [\"env\"]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // pour les fichiers CSS..."]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.css$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // ...utilise le css-loader"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"css-loader\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    ]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["};"]}]}]}]},"\n",{"t":"p","c":["De cette manière, webpack sera capable d'importer un fichier CSS. Toutefois, si\non recharge notre page, on s'apperçoit rapidement que le style n'est pas\nappliqué. Et c'est normal. On a dit à webpack comment importer un fichier CSS,\nmais on ne lui a pas dit ce qu'il doit faire avec ce qu'il a chargé. On a donc\nactuellement un fichier CSS chargé en mémoire, mais on n'en fait rien. Pour\ns'en convaincre, on peut faire la chose suivante :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// assets/js/app.js"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["import styles from \"../css/app.css\";"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["console.log(styles);"]}]}]}]},"\n",{"t":"p","c":["Après avoir relancé webpack et affiché notre page, on peut voir un objet\ncontenant toutes nos règles CSS s'afficher dans la console du navigateur."]},"\n",{"t":"p","c":["On va donc avoir besoin d'un autre loader pour dire à webpack ce qu'il doit\nfaire avec le CSS qu'il a chargé : le\n",{"t":"a","p":{"href":"https://www.npmjs.com/package/style-loader"},"c":[{"t":"code","c":["style-loader"]}]},". Ce loader va\nprendre le résultat du ",{"t":"code","c":["css-loader"]},", et l'injecter dans une balise ",{"t":"code","c":["style"]}," dans\nle ",{"t":"code","c":["head"]}," de notre page."]},"\n",{"t":"p","c":["On l'installe :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--shell"},"c":[{"t":"span","c":["npm install --save-dev style-loader"]}]}]}]},"\n",{"t":"p","c":["Puis on l'ajoute aux règles :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["const path = require(\"path\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["module.exports = {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  entry: \"./assets/js/app.js\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  output: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    path: path.resolve(__dirname, \"web/assets\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    filename: \"bundle.js\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  module: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    rules: ["]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.js$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"babel-loader\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        include: path.join(__dirname, \"assets\", \"js\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        options: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["          presets: [\"env\"]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.css$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // il est possible de chaîner plusieurs loaders. Pour ça, on passe un"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // tableau de loaders à la propriété `use`. Les loaders sont appliqués"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        // les uns à la suite des autres, en partant du dernier élément du tableau"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        use: [{ loader: \"style-loader\" }, { loader: \"css-loader\" }]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    ]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["};"]}]}]}]},"\n",{"t":"p","c":["Après avoir relancé webpack, le style est cette fois-ci bien appliqué à la\npage. Sauf si dans votre CSS vous faites appel à des images ou des fonts. Car\nle ",{"t":"code","c":["css-loader"]}," va traiter ceux-ci comme des imports de modules, et webpack ne\nsaura pas comment les charger. On va donc appliquer deux dernières règles à\nnotre configuration : une pour charger les images, et une pour charger les\nfonts. Les deux utiliseront le\n",{"t":"a","p":{"href":"https://www.npmjs.com/package/file-loader"},"c":[{"t":"code","c":["file-loader"]}]}," pour simplement\ncopier les fichiers dans le dossier défini dans ",{"t":"code","c":["output.path"]},"."]},"\n",{"t":"p","c":["À nouveau, on l'installe :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--shell"},"c":[{"t":"span","c":["npm install --save-dev file-loader"]}]}]}]},"\n",{"t":"p","c":["Et on ajoute deux règles à notre configuration :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["const path = require(\"path\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["module.exports = {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  entry: \"./assets/js/app.js\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  output: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    path: path.resolve(__dirname, \"web/assets\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    filename: \"bundle.js\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  module: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    rules: ["]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.js$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"babel-loader\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        include: path.join(__dirname, \"assets\", \"js\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        options: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["          presets: [\"env\"]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.css$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        use: [{ loader: \"style-loader\" }, { loader: \"css-loader\" }]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.(jpg|gif|png|svg)$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"file-loader\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.(ttf|woff|woff2|eot)/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"file-loader\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    ]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["};"]}]}]}]},"\n",{"t":"p","c":["De cette manière, quand webpack croisera un de ces fichiers, il le copiera dans\nle dossier ",{"t":"code","c":["output.path"]}," et remplacera le chemin d'origine par celui où il aura\nplacé le fichier."]},"\n",{"t":"h2","p":{"id":"le-mode-watch"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#le-mode-watch"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Le mode ",{"t":"code","c":["watch"]}]},"\n",{"t":"p","c":["Relancer webpack à chaque fois qu'on fait une modification est chronophage. On\naimerait bien que celui-ci se relance automatiquement lorsqu'on modifie un\nfichier. C'est possible, en utilisant le mode ",{"t":"code","c":["watch"]}," de webpack. Celui-ci peut\nêtre activé de 2 manières : via le fichier de configuration, ou via la ligne de\ncommande."]},"\n",{"t":"p","c":["Pour le fichier de configuration, il suffit d'ajouter le booléen ",{"t":"code","c":["watch: true"]},"\nà l'objet exporté :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["const path = require(\"path\");"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["module.exports = {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  entry: \"./assets/js/app.js\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  output: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    path: path.resolve(__dirname, \"web/assets\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    filename: \"bundle.js\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  module: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    rules: ["]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.js$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"babel-loader\","]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        include: path.join(__dirname, \"assets\", \"js\"),"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        options: {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["          presets: [\"env\"]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.css$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        use: [{ loader: \"style-loader\" }, { loader: \"css-loader\" }]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.(jpg|gif|png|svg)$/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"file-loader\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      {"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        test: /\\.(ttf|woff|woff2|eot)/,"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["        loader: \"file-loader\""]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["      }"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["    ]"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  },"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  // webpack se lancera tout le temps en mode watch"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  watch: true"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["};"]}]}]}]},"\n",{"t":"p","c":["Pour la ligne de commande, il faut ajouter le flag ",{"t":"code","c":["-w"]},". On peut donc se faire\nun script ",{"t":"code","c":["start"]}," qui lance webpack en mode watch :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--json"},"c":[{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["scripts"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[": "]},{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--dictionary syntax--begin syntax--json"},"c":[{"t":"span","c":["{"]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--json"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--json"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["build"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--value syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--separator syntax--dictionary syntax--key-value syntax--json"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["webpack"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--separator syntax--dictionary syntax--pair syntax--json"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--json"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--json"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["start"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--value syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--separator syntax--dictionary syntax--key-value syntax--json"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--json"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["webpack -w"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--json"},"c":[{"t":"span","c":["\""]}]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--json"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--structure syntax--dictionary syntax--json"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--dictionary syntax--end syntax--json"},"c":[{"t":"span","c":["}"]}]}]}]}]}]},"\n",{"t":"p","c":["Ainsi, en lançant ",{"t":"code","c":["npm start"]}," en console, webpack crée un bundle, puis attend\nqu'on fasse des modifications pour se relancer automatiquement. De plus, il\nutilise un cache qui lui permet de recompiler le bundle très rapidement."]},"\n",{"t":"p","c":["Voilà pour cette introduction à webpack, sa philosophie et son concept de\n",{"t":"em","c":["loaders"]},". Cet outil est capable de faire énormément d'autres choses. Je vous\nconseille de jeter un oeil à la documentation qui est très bien faite. Dans les\nprochains articles, on abordera des aspects plus spécifiques comme le ",{"t":"em","c":["code\nsplitting"]},", les ",{"t":"em","c":["plugins"]},", les ",{"t":"em","c":["sourcemaps"]},", ",{"t":"code","c":["webpack-dev-server"]}," et le ",{"t":"em","c":["hot\nmodule replacement"]},". Nous verrons aussi comment webpack peut totalement\nremplacer un workflow utilisant gulp (et ça vaudra aussi pour grunt,\névidemment)."]}]}}