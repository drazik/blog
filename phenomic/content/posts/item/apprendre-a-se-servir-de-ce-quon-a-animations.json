{"filename":"index.md","title":"Apprendre à se servir de ce qu'on a : faire des animations","headings":[{"level":2,"text":"Oubliez JavaScript, faites des animations CSS","id":"oubliez-javascript-faites-des-animations-css"},{"level":2,"text":"GreenSock Animation Platform (GSAP)","id":"greensock-animation-platform-gsap"}],"date":"2015-05-30","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Les sites web sont aujourd'hui remplis d'animations en tout genre. Elles\npermettent d'enrichir l'expérience utilisateur, de rendre une interface plus\nvivante, plus naturelle ou de faire un effet \"waouh\" qui fera que le site\nrestera dans l'esprit de l'utilisateur. Bref, faire des animations, c'est\naujourd'hui monnaie courante. Et ce cher jQuery et sa bande de copains nous\npermettent de faire ça très facilement. Mais à nouveau : et si on essayait de\ns'en passer ?"]},"\n",{"t":"p","c":[{"t":"em","c":["Cet article est le quatrième de la série ",{"t":"a","p":{"href":"/articles/apprendre-a-se-servir-de-ce-quon-a"},"c":["\"apprendre à se servir de ce qu'on\na\""]},", ayant pour objectif de\nmontrer que l'utilisation d'une bibliothèque telle que jQuery n'a pas toujours\nde sens. N'hésitez pas à parcourir les autres articles !"]}]},"\n",{"t":"h2","p":{"id":"oubliez-javascript-faites-des-animations-css"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#oubliez-javascript-faites-des-animations-css"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"Oubliez JavaScript, faites des animations CSS"]},"\n",{"t":"p","c":["La toute première chose que je souhaitais évoquer dans cet article, c'est de\nprivilégier les animations réalisées en CSS. La raison est simple : les\nanimations CSS peuvent bénéficier d'optimisations faites par les navigateurs\n(souvent apparentées à de l'accélération matérielle sans en être réellement),\npas celles réalisées en JavaScript. Vous pouvez trouver un article sur ce sujet\nchez\n",{"t":"a","p":{"href":"http://www.alsacreations.com/astuce/lire/1565-acceleration-materielle-au-service-de-vos-animations-css.html"},"c":["Alsacréations"]},".\nLes animations CSS sont moins compatibles (voir les tables caniuse de\n",{"t":"a","p":{"href":"http://caniuse.com/#feat=css-transitions"},"c":[{"t":"code","c":["transition"]}]}," et\n",{"t":"a","p":{"href":"http://caniuse.com/#feat=css-animation"},"c":[{"t":"code","c":["animation"]}]},") que leurs cousines en\nJavaScript, mais sont la plupart du temps plus efficaces et agréables (du fait\ndes fameuses optimisations). De plus, animer un élément au déclenchement d'un\névénement devient aussi simple que ",{"t":"a","p":{"href":"/articles/apprendre-a-se-servir-de-ce-quon-a-manipuler-styles-elements/"},"c":["lui attribuer ou lui retirer une\nclasse"]},",\ncomme vous pouvez le voir ci-dessous :"]},"\n",{"t":"p","p":{"data-height":"268","data-theme-id":"15557","data-slug-hash":"wagdmZ","data-default-tab":"result","data-user":"JesmoDrazik","class":"codepen"},"c":["See the Pen ",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik/pen/wagdmZ/"},"c":["CSS animations"]}," by Cyrille Perois (",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik"},"c":["@JesmoDrazik"]},") on ",{"t":"a","p":{"href":"http://codepen.io"},"c":["CodePen"]},"."]},"\n",{"t":"script","p":{"async":true,"src":"//assets.codepen.io/assets/embed/ei.js"}},"\n",{"t":"p","c":["Arrivés ici, ceux qui veulent faire de superbes animations sur des navigateurs\nqui ne supportent pas ",{"t":"code","c":["transition"]}," et / ou ",{"t":"code","c":["animation"]}," se posent toujours LA\nquestion : comment faire des animations en JavaScript ? Désolé de vous\ndécevoir, mais cette fois-ci on ne va pas faire uniquemenent avec \"ce qu'on a\".\nEn effet, à moins que toutes vos animations soient extrêmement simplistes\n(passer une opacité de 0 à 1, animer une couleur, une taille, une position) et\nlinéaires, faire des animations est ",{"t":"a","p":{"href":"http://javascript.info/tutorial/animation"},"c":["une vraie\ngalère"]},". On va donc plutôt se\npencher sur une alternative aux jQuery-like, spécialisée dans les animations.\nCe que je veux, c'est une bibliothèque légère, performante, compatible avec de\nvieux navigateurs (comme d'habitude, je vise au minimum IE8), pérenne et simple\nd'utilisation. Il y a au moins une bibliothèque qui remplit tous ces critères."]},"\n",{"t":"h2","p":{"id":"greensock-animation-platform-gsap"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#greensock-animation-platform-gsap"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"GreenSock Animation Platform (GSAP)"]},"\n",{"t":"p","c":[{"t":"a","p":{"href":"http://greensock.com/gsap"},"c":["GSAP"]}," est une bibliothèque permettant de faire des\nanimations, le café et la vaiselle. C'est très simple : peu importe l'animation\nque vous souhaitez faire, elle est réalisable. En tant que tel, GSAP est assez\nlourd (toute proportion gardée, la version la plus lourde de GSAP pèse 105Ko,\ncontre 93Ko pour jQuery). Mais l'un de ses nombreux avantages est d'adopter une\narchitecture basée sur des plugins. Il est donc possible d'adapter le poids de\nla bibliothèque en ne chargeant que ce dont on a besoin. Pour résumer, voici\ncomment se compose GSAP :"]},"\n",{"t":"ul","c":["\n",{"t":"li","c":["TweenLite : la librairie de base. Toutes les fonctions couvrant la majorité\ndes cas d'utilisation sont présentes. ",{"t":"code","c":["TweenLite.to"]}," permet d'animer un élément\nde son état actuel à un autre spécifié en paramètre; ",{"t":"code","c":["TweenLite.from"]}," permet\nd'animer un élément d'un état spécifié en paramètre à son état actuel. De très\nnombreuses \"timing functions\" sont disponibles."]},"\n",{"t":"li","c":["TweenMax : extension de TweenLite embarquant des fonctions supplémentaires\nainsi que des plugins comme CSSPlugin, d'autres timing functions ainsi que\nTimelineLite et TimelineMax."]},"\n",{"t":"li","c":["TimelineLite : permet de définir des séquences d'animations et de les jouer\ndans tous les sens, les arrêter, les reprendre, les recommencer..."]},"\n",{"t":"li","c":["TimelineMax : exactement comme TweenMax pour TweenLite, mais pour\nTimelineLite."]},"\n",{"t":"li","c":["Des plugins : qu'on peut trouver ",{"t":"a","p":{"href":"https://greensock.com/plugins/"},"c":["ici"]},", qui\nfont des tas de choses... Je vous laisse regarder."]},"\n"]},"\n",{"t":"p","c":["On commencera donc généralement par importer TweenLite, puis les plugins dont\non a besoin, et on remplacera le tout par TweenMax si on en arrive à avoir\nbesoin de tout."]},"\n",{"t":"p","c":["L'API de GSAP est très simple. Il n'y a pas besoin de se souvenir de beaucoup\nde fonctions pour faire des animations assez complexes. Les performances sont\nau rendez-vous, comme en témoigne ",{"t":"a","p":{"href":"http://greensock.com/js/speed.html"},"c":["ce\ncomparatif"]},". Je ne vais pas faire de démo,\npuisque vous en trouverez une très complète et très bien faite ",{"t":"a","p":{"href":"http://greensock.com/jump-start-js"},"c":["sur leur\nsite"]},"."]},"\n",{"t":"p","c":["GSAP est pour moi la référence des bibliothèques d'animation en JavaScript.\n\"Petit\" bonus : c'est compatible jusqu'à IE6. Autre \"petit\" bonus : c'est\ndisponible sur ",{"t":"a","p":{"href":"https://www.npmjs.com/package/gsap"},"c":["npm"]},", vous pourrez donc\nl'importer et le mettre à jour très facilement."]},"\n",{"t":"p","c":["Il est donc très simple et avantagieux d'utiliser GSAP pour faire ses\nanimations JavaScript. Pour les projets pour lesquels vous êtes \"obligés\"\nd'utiliser jQuery, ",{"t":"a","p":{"href":"http://greensock.com/jquery-gsap-plugin"},"c":["un plugin"]},"\nsurchargeant la méthode ",{"t":"code","c":["animate"]}," est même disponible. Toutefois, GSAP est une\nsolution à envisager uniquement si les animations CSS ne peuvent pas être\nutilisées seules dans votre projet. Les plus téméraires pourront tenter\nd'écrire leur propre fonction d'animation... Bon courage !"]}]}}