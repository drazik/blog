{"filename":"index.md","title":"Faire des carrés","headings":[{"level":2,"text":"La méthode \"tout en dur\"","id":"la-méthode-tout-en-dur"},{"level":2,"text":"La méthode JavaScript","id":"la-méthode-javascript"},{"level":2,"text":"La méthode \"je connais CSS\"","id":"la-méthode-je-connais-css"}],"date":"2016-08-03","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Quoi de plus simple qu'un carré ? Pourtant, comment dire à un élément HTML que\nsa hauteur doit être égale à sa largeur ?"]},"\n",{"t":"h2","p":{"id":"la-méthode-tout-en-dur"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#la-méthode-tout-en-dur"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"La méthode \"tout en dur\""]},"\n",{"t":"p","c":["C'est la méthode qui est la plus simple et la plus inutile en même temps :"]},"\n",{"t":"p","p":{"data-height":"300","data-theme-id":"15557","data-slug-hash":"dXjrGm","data-default-tab":"html,result","data-user":"JesmoDrazik","data-embed-version":"2","className":"codepen"},"c":["See the Pen ",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik/pen/dXjrGm/"},"c":["Fixed width and height square"]}," by Cyrille Perois (",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik"},"c":["@JesmoDrazik"]},") on ",{"t":"a","p":{"href":"http://codepen.io"},"c":["CodePen"]},"."]},"\n",{"t":"p","c":["Alors oui, ça fait un carré, c'est indéniable. Pourtant, rare sont les cas dans\nlesquels ont peut se permettre de donner une taille fixe à un élément\naujourd'hui. On a plus souvent besoin que l'élément soit un carré, et le reste\nmême quand celui-ci est redimensionné."]},"\n",{"t":"p","c":["Mais il n'existe pas de moyen simple et évident en CSS pour donner à un élément\nune hauteur égale à sa largeur à tout moment. Quelque chose comme ceci... :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--css"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--selector syntax--css"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--other syntax--attribute-name syntax--class syntax--css"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--entity syntax--css"},"c":[{"t":"span","c":["."]}]},{"t":"span","c":["Square"]}]},{"t":"span","c":[" "]}]},{"t":"span","p":{"className":"syntax--meta syntax--property-list syntax--css"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--section syntax--property-list syntax--begin syntax--css"},"c":[{"t":"span","c":["{"]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--css"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--property-list syntax--css"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--property-name syntax--css"},"c":[{"t":"span","p":{"className":"syntax--support syntax--type syntax--property-name syntax--css"},"c":[{"t":"span","c":["display"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--property-value syntax--css"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--separator syntax--key-value syntax--css"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--support syntax--constant syntax--property-value syntax--css"},"c":[{"t":"span","c":["block"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--rule syntax--css"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--css"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--property-list syntax--css"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--property-name syntax--css"},"c":[{"t":"span","p":{"className":"syntax--support syntax--type syntax--property-name syntax--css"},"c":[{"t":"span","c":["width"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--property-value syntax--css"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--separator syntax--key-value syntax--css"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--css"},"c":[{"t":"span","c":["25"]},{"t":"span","p":{"className":"syntax--keyword syntax--other syntax--unit syntax--css"},"c":[{"t":"span","c":["%"]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--rule syntax--css"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--css"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--property-list syntax--css"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--property-name syntax--css"},"c":[{"t":"span","p":{"className":"syntax--support syntax--type syntax--property-name syntax--css"},"c":[{"t":"span","c":["height"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--property-value syntax--css"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--separator syntax--key-value syntax--css"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","c":["computed-property(width)"]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--rule syntax--css"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--css"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--property-list syntax--css"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--section syntax--property-list syntax--end syntax--css"},"c":[{"t":"span","c":["}"]}]}]}]}]}]},"\n",{"t":"p","c":["... qui prendrait la valeur calculée de ",{"t":"code","c":["width"]}," pour l'appliquer à ",{"t":"code","c":["height"]},". Il\nnous faut donc une solution pour \"écouter\" la largeur de notre élément afin d'y\nappliquer une hauteur égale."]},"\n",{"t":"h2","p":{"id":"la-méthode-javascript"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#la-méthode-javascript"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"La méthode JavaScript"]},"\n",{"t":"p","c":["La solution qui vient immédiatement en tête est d'utiliser du JS pour écouter\nl'événement ",{"t":"code","c":["resize"]}," sur la ",{"t":"code","c":["window"]},", lire la ",{"t":"code","c":["width"]}," de l'élément et\nl'appliquer à sa ",{"t":"code","c":["height"]}," :"]},"\n",{"t":"p","p":{"data-height":"300","data-theme-id":"15557","data-slug-hash":"mEjPPQ","data-default-tab":"js,result","data-user":"JesmoDrazik","data-embed-version":"2","className":"codepen"},"c":["See the Pen ",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik/pen/mEjPPQ/"},"c":["Squares using JavaScript"]}," by Cyrille Perois (",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik"},"c":["@JesmoDrazik"]},") on ",{"t":"a","p":{"href":"http://codepen.io"},"c":["CodePen"]},"."]},"\n",{"t":"p","c":["(il serait évidemment une bonne idée d'utiliser un\n",{"t":"a","p":{"href":"https://lodash.com/docs#debounce"},"c":[{"t":"code","c":["debounce"]}]}," pour ne pas lancer la fonction\nun trop grand nombre de fois, mais le but est de rester simple ici)"]},"\n",{"t":"p","c":["Cette solution fonctionne, mais le fait que mes éléments soient carrés devrait\nêtre laissé à la responsabilité de CSS. En effet, mon JS peut être bloqué par\nn'importe quel traitement, erreur, voir même être désactivé par l'utilisateur\n(c'est rare mais ça existe). Une solution CSS only serait préférable."]},"\n",{"t":"h2","p":{"id":"la-méthode-je-connais-css"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#la-méthode-je-connais-css"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"La méthode \"je connais CSS\""]},"\n",{"t":"p","c":["En me baladant sur un site en cours de développement chez Wandi, j'ai remarqué\nque des éléments d'une page étaient carrés, et le restaient lorsqu'on\nredimensionne la fenêtre du navigateur. Je suis allé voir le JS associé, pour\nm'assurer qu'un ",{"t":"code","c":["debounce"]}," était appliqué, afin d'optimiser les performances.\nA ma grande surprise, aucun JS n'était de la partie, tout était fait en CSS.\nJ'ai donc demandé au collègue qui s'est chargé du développement de ce composant\nsa petite astuce. Et celle-ci repose sur le simple fait suivant : lorsqu'on\napplique une valeur en pourcentage à un padding, celle-ci se base sur la\nlargeur de l'élément englobant."]},"\n",{"t":"p","c":["Il existe donc bien un moyen de donner à un élément une hauteur égale à sa\nlargeur, et ce de manière fluide : appliquer un ",{"t":"code","c":["padding-bottom: 100%"]}," à un\npseudo-élément."]},"\n",{"t":"p","p":{"data-height":"300","data-theme-id":"15557","data-slug-hash":"GqBoGd","data-default-tab":"css,result","data-user":"JesmoDrazik","data-embed-version":"2","className":"codepen"},"c":["See the Pen ",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik/pen/GqBoGd/"},"c":["CSS only square"]}," by Cyrille Perois (",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik"},"c":["@JesmoDrazik"]},") on ",{"t":"a","p":{"href":"http://codepen.io"},"c":["CodePen"]},"."]},"\n",{"t":"script","p":{"async":true,"src":"//assets.codepen.io/assets/embed/ei.js"}},"\n",{"t":"p","c":["Et voici. Je tire trois enseignements de cette expérience :"]},"\n",{"t":"ul","c":["\n",{"t":"li","c":["Comment faire des carrés en CSS !"]},"\n",{"t":"li","c":["Lire la documentation, comme toujours, est primordial"]},"\n",{"t":"li","c":["Le partage de connaissances, lui aussi, est primordial. Je remercie donc ce\ncollègue (qui est apprenti, vous avez des choses à apprendre de vos apprentis)\nd'avoir partagé ceci avec moi"]},"\n"]}]}}