<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/phenomic/phenomic.main.4c397c62.css"/></head><body><div id="PhenomicRoot"><div data-reactroot=""><header class="header"><div class="content-wrap"><div class="logo"><h1><a href="/">Jesmo Drazik Blog</a></h1><p class="description">Développeur front-end @ Cozy Cloud</p><div class="find-me"><a href="https://twitter.com/JesmoDrazik">Twitter</a><a href="https://github.com/drazik">GitHub</a></div></div></div></header><div id="content"><div class="content-wrap"><div><article class="article"><h1 style="text-align:center">Gérer sa (ou ses) version(s) de NodeJS</h1><p><strong>Attention, cet article a été publié il y a plus d&#x27;un an. Son contenu ne doit plus être prit pour argent comptant. Vous devriez recouper les informations qu&#x27;il contient avec d&#x27;autres sources, afin de vous assurer que celles-ci sont toujours d&#x27;actualité.</strong></p><div><p>La sortie de la version 4.0.0 de NodeJS apporte de nombreuses nouvelles
fonctionnalités, il est donc indispensable de faire la mise à jour. Sur
Windows, faire la mise à jour de NodeJS revient à désinstaller la version
actuelle, télécharger l&#x27;installeur de la nouvelle version. Sur Ubuntu, utiliser
apt-get est <a href="http://doc.ubuntu-fr.org/nodejs">plus compliqué qu&#x27;il n&#x27;y parait</a>
pour gérer son installation de NodeJS. Il fallait donc trouver une solution
plus efficace. Mon choix s&#x27;est porté sur <a href="https://github.com/creationix/nvm">Node.js Version Manager
(nvm)</a>.</p>
<p><span class="more"></span></p>
<p><em>Cet article est consacré à nvm qui ne fonctionne que sur Linux. Mais des
outils au fonctionnement similaires existent pour Windows :
<a href="https://github.com/hakobera/nvmw">nvmw</a> et
<a href="https://github.com/coreybutler/nvm-windows">nvm-windows</a>.</em></p>
<h2 id="quest-ce-que-cest-"><a aria-hidden="true" href="#quest-ce-que-cest-"><span class="icon icon-link"></span></a>Qu&#x27;est-ce que c&#x27;est ?</h2>
<p>nvm est un programme permettant de gérer son installation de NodeJS. Il permet
d&#x27;installer, de mettre à jour, de désinstaller NodeJS sur votre machine, via
une simple CLI. L&#x27;avantage de cette solution par rapport à une installation via
apt-get, hormis la simplicité, c&#x27;est qu&#x27;il est possible d&#x27;installer plusieurs
versions de NodeJS sur une seule machine, et de switcher de l&#x27;une à l&#x27;autre à
la volée avec une simple commande.</p>
<h2 id="installer-nvm"><a aria-hidden="true" href="#installer-nvm"><span class="icon icon-link"></span></a>Installer nvm</h2>
<p>Pour installer nvm, il y a deux solutions : <a href="https://github.com/creationix/nvm#install-script">via un
script</a> ou
<a href="https://github.com/creationix/nvm#manual-install">manuellement</a>. La
documentation est très claire sur ce point, rien à ajouter.</p>
<h2 id="installerdésinstaller-nodejs"><a aria-hidden="true" href="#installerdésinstaller-nodejs"><span class="icon icon-link"></span></a>Installer/désinstaller NodeJS</h2>
<p>La première étape après avoir installé nvm, c&#x27;est de l&#x27;utiliser pour installer
NodeJS :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>nvm install &lt;version&gt;</span></span></div></pre>
<p>La version à installer peut être un numéro de version précis (par exemple
<code>0.12.7</code>), ou un mot-clef. <code>stable</code> installera la dernière version stable
publiée, <code>unstable</code> la dernière version publiée, même si celle-ci n&#x27;est pas
taggée comme étant stable.</p>
<p>Plusieurs versions peuvent être installée, en lançant plusieurs <code>nvm install</code>.</p>
<p>Pour désinstaller une version précédemment installée, il suffit d&#x27;utiliser la
commande <code>nvm uninstall &lt;version&gt;</code>.</p>
<p>Enfin, la commande <code>nvm ls</code> vous permet de voir quelles versions sont
installées sur votre machine. Pour obtenir la liste des versions disponibles,
il faut utiliser <code>nvm ls-remote</code>.</p>
<h2 id="utiliser-une-version-installée"><a aria-hidden="true" href="#utiliser-une-version-installée"><span class="icon icon-link"></span></a>Utiliser une version installée</h2>
<p>Une fois une ou plusieurs version(s) de NodeJS installée(s), la commande <code>nvm use &lt;version&gt;</code> permet d&#x27;utiliser l&#x27;une d&#x27;elles dans le shell courrant. En
effet, de base, lors de l&#x27;ouverture d&#x27;un shell, NodeJS n&#x27;est pas disponible
dans celui-ci. Il est toutefois possible de définir une version par défaut qui
sera utilisée automatiquement lors de l&#x27;ouverture d&#x27;un nouveau shell, avec la
commande suivante :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>nvm alias default &lt;version&gt;</span></span></div></pre>
<p>Il est aussi possible d&#x27;exécuter une seule commande en utilisant une version
donnée. Pour cela, il y a deux solutions. La première permet d&#x27;exécuter
directement un fichier ou une commande avec une version précise :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>nvm run &lt;version&gt; &lt;fichier&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>nvm run 4.1.2 app.js</span></span></div></pre>
<p>La seconde permet d&#x27;exécuter une commande avec la variable PATH pointant vers
la version de NodeJS spécifiée :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>nvm exec &lt;version&gt; &lt;commande&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>nvm exec 4.1.2 node app.js</span></span></div></pre>
<h2 id="conclusion"><a aria-hidden="true" href="#conclusion"><span class="icon icon-link"></span></a>Conclusion</h2>
<p>nvm nous permet donc de gérer très simplement l&#x27;installation, la mise à jour et
l&#x27;utilisation de NodeJS. Un avantage majeur de cette solution est de pouvoir
installer plusieurs versions et d&#x27;en utiliser une à un moment donné. J&#x27;ai
exposé ici les fonctionnalités les plus couramment utiles. Pour les cas
d&#x27;utilisation plus rares et poussés, <a href="https://github.com/creationix/nvm#node-version-manager-">la
documentation</a> est
très complète.</p></div><footer style="text-align:center"><a href="https://github.com/drazik/blog/edit/master/content/posts/gerer-versions-nodejs/index.md" target="_blank">Proposer des modifications</a></footer></article><div><a href="/">Revenir à l&#x27;accueil</a></div></div></div></div><footer><div class="content-wrap"><section class="copy"><p>© <!-- -->2018<!-- --> Cyrille Jesmo Drazik</p></section></div></footer></div></div><script id="PhenomicHydration" type="text/json">{"path=content%2Fposts&id=gerer-versions-nodejs":{"status":"idle","node":{"filename":"index.md","title":"Gérer sa (ou ses) version(s) de NodeJS","headings":[{"level":2,"text":"Qu'est-ce que c'est ?","id":"quest-ce-que-cest-"},{"level":2,"text":"Installer nvm","id":"installer-nvm"},{"level":2,"text":"Installer/désinstaller NodeJS","id":"installerdésinstaller-nodejs"},{"level":2,"text":"Utiliser une version installée","id":"utiliser-une-version-installée"},{"level":2,"text":"Conclusion","id":"conclusion"}],"date":"2015-10-08","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["La sortie de la version 4.0.0 de NodeJS apporte de nombreuses nouvelles\nfonctionnalités, il est donc indispensable de faire la mise à jour. Sur\nWindows, faire la mise à jour de NodeJS revient à désinstaller la version\nactuelle, télécharger l'installeur de la nouvelle version. Sur Ubuntu, utiliser\napt-get est ",{"t":"a","p":{"href":"http://doc.ubuntu-fr.org/nodejs"},"c":["plus compliqué qu'il n'y parait"]},"\npour gérer son installation de NodeJS. Il fallait donc trouver une solution\nplus efficace. Mon choix s'est porté sur ",{"t":"a","p":{"href":"https://github.com/creationix/nvm"},"c":["Node.js Version Manager\n(nvm)"]},"."]},"\n",{"t":"p","c":[{"t":"span","p":{"className":"more"}}]},"\n",{"t":"p","c":[{"t":"em","c":["Cet article est consacré à nvm qui ne fonctionne que sur Linux. Mais des\noutils au fonctionnement similaires existent pour Windows :\n",{"t":"a","p":{"href":"https://github.com/hakobera/nvmw"},"c":["nvmw"]}," et\n",{"t":"a","p":{"href":"https://github.com/coreybutler/nvm-windows"},"c":["nvm-windows"]},"."]}]},"\n",{"t":"h2","p":{"id":"quest-ce-que-cest-"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#quest-ce-que-cest-"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Qu'est-ce que c'est ?"]},"\n",{"t":"p","c":["nvm est un programme permettant de gérer son installation de NodeJS. Il permet\nd'installer, de mettre à jour, de désinstaller NodeJS sur votre machine, via\nune simple CLI. L'avantage de cette solution par rapport à une installation via\napt-get, hormis la simplicité, c'est qu'il est possible d'installer plusieurs\nversions de NodeJS sur une seule machine, et de switcher de l'une à l'autre à\nla volée avec une simple commande."]},"\n",{"t":"h2","p":{"id":"installer-nvm"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#installer-nvm"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Installer nvm"]},"\n",{"t":"p","c":["Pour installer nvm, il y a deux solutions : ",{"t":"a","p":{"href":"https://github.com/creationix/nvm#install-script"},"c":["via un\nscript"]}," ou\n",{"t":"a","p":{"href":"https://github.com/creationix/nvm#manual-install"},"c":["manuellement"]},". La\ndocumentation est très claire sur ce point, rien à ajouter."]},"\n",{"t":"h2","p":{"id":"installerdésinstaller-nodejs"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#installerdésinstaller-nodejs"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Installer/désinstaller NodeJS"]},"\n",{"t":"p","c":["La première étape après avoir installé nvm, c'est de l'utiliser pour installer\nNodeJS :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["nvm install <version>"]}]}]}]},"\n",{"t":"p","c":["La version à installer peut être un numéro de version précis (par exemple\n",{"t":"code","c":["0.12.7"]},"), ou un mot-clef. ",{"t":"code","c":["stable"]}," installera la dernière version stable\npubliée, ",{"t":"code","c":["unstable"]}," la dernière version publiée, même si celle-ci n'est pas\ntaggée comme étant stable."]},"\n",{"t":"p","c":["Plusieurs versions peuvent être installée, en lançant plusieurs ",{"t":"code","c":["nvm install"]},"."]},"\n",{"t":"p","c":["Pour désinstaller une version précédemment installée, il suffit d'utiliser la\ncommande ",{"t":"code","c":["nvm uninstall <version>"]},"."]},"\n",{"t":"p","c":["Enfin, la commande ",{"t":"code","c":["nvm ls"]}," vous permet de voir quelles versions sont\ninstallées sur votre machine. Pour obtenir la liste des versions disponibles,\nil faut utiliser ",{"t":"code","c":["nvm ls-remote"]},"."]},"\n",{"t":"h2","p":{"id":"utiliser-une-version-installée"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#utiliser-une-version-installée"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Utiliser une version installée"]},"\n",{"t":"p","c":["Une fois une ou plusieurs version(s) de NodeJS installée(s), la commande ",{"t":"code","c":["nvm use <version>"]}," permet d'utiliser l'une d'elles dans le shell courrant. En\neffet, de base, lors de l'ouverture d'un shell, NodeJS n'est pas disponible\ndans celui-ci. Il est toutefois possible de définir une version par défaut qui\nsera utilisée automatiquement lors de l'ouverture d'un nouveau shell, avec la\ncommande suivante :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["nvm alias default <version>"]}]}]}]},"\n",{"t":"p","c":["Il est aussi possible d'exécuter une seule commande en utilisant une version\ndonnée. Pour cela, il y a deux solutions. La première permet d'exécuter\ndirectement un fichier ou une commande avec une version précise :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["nvm run <version> <fichier>"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["nvm run 4.1.2 app.js"]}]}]}]},"\n",{"t":"p","c":["La seconde permet d'exécuter une commande avec la variable PATH pointant vers\nla version de NodeJS spécifiée :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["nvm exec <version> <commande>"]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["nvm exec 4.1.2 node app.js"]}]}]}]},"\n",{"t":"h2","p":{"id":"conclusion"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#conclusion"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Conclusion"]},"\n",{"t":"p","c":["nvm nous permet donc de gérer très simplement l'installation, la mise à jour et\nl'utilisation de NodeJS. Un avantage majeur de cette solution est de pouvoir\ninstaller plusieurs versions et d'en utiliser une à un moment donné. J'ai\nexposé ici les fonctionnalités les plus couramment utiles. Pour les cas\nd'utilisation plus rares et poussés, ",{"t":"a","p":{"href":"https://github.com/creationix/nvm#node-version-manager-"},"c":["la\ndocumentation"]}," est\ntrès complète."]}]}}}}</script><script src="/phenomic/phenomic.main.fb18500c.js" async=""></script></body></html>