<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/phenomic/phenomic.main.4c397c62.css"/></head><body><div id="PhenomicRoot"><div data-reactroot=""><header class="header"><div class="content-wrap"><div class="logo"><h1><a href="/">Jesmo Drazik Blog</a></h1><p class="description">Développeur front-end @ Cozy Cloud</p><div class="find-me"><a href="https://twitter.com/JesmoDrazik">Twitter</a><a href="https://github.com/drazik">GitHub</a></div></div></div></header><div id="content"><div class="content-wrap"><div><article class="article"><h1 style="text-align:center">Apprendre à se servir de ce qu&#x27;on a : AJAX</h1><div><p>Quel site web, aujourd&#x27;hui, n&#x27;utilise pas de requête AJAX, cette technologie
permettant d&#x27;envoyer des requêtes HTTP à un serveur de manière (a)synchrone, et
donc de rafraîchir des données affichées sans avoir à recharger la page en
cours de consultation ? Celui que vous êtes en train de lire, certes... Mais
aujourd&#x27;hui une grande majorité des sites web que vous visitez tirent très
certainement parti d&#x27;AJAX. Mais au fait, quand on fait un <code>$.ajax()</code>, ça fait
quoi ?</p>
<p><span class="more"></span></p>
<p><em>Cet article est le sixième de la série <a href="/articles/apprendre-a-se-servir-de-ce-quon-a">&quot;apprendre à se servir de ce qu&#x27;on
a&quot;</a>, ayant pour objectif de
montrer que l&#x27;utilisation d&#x27;une bibliothèque telle que jQuery n&#x27;a pas toujours
de sens. N&#x27;hésitez pas à parcourir les autres articles !</em></p>
<h2 id="ajax-ou-plutôt-xmlhttprequest"><a aria-hidden="true" href="#ajax-ou-plutôt-xmlhttprequest"><span class="icon icon-link"></span></a>AJAX, ou plutôt XMLHttpRequest</h2>
<p>AJAX (pour Asynchronous Javascript And XML) n&#x27;est pas une technologie en tant
que telle, mais un ensemble de technologies. Ce concept se base en particulier
sur l&#x27;objet <code>XMLHttpRequest</code> introduit par Microsoft dans Internet Explorer,
qui a été par la suite standardisé.</p>
<p><code>XMLHttpRequest</code> permet d&#x27;envoyer des requêtes HTTP vers un serveur sans avoir
à rafraichir la page en cours d&#x27;affichage. Ces requêtes peuvent être synchrones
ou asynchrones. Dans le premier cas, l&#x27;exécution du thread JS est interrompue
et attend la réponse du serveur pour reprendre. Dans le second cas, le thread
continue sa petite vie, et c&#x27;est un événement qui sera lancé pour le notifiier
de l&#x27;arrivée de la réponse du serveur. Il va sans dire que c&#x27;est le deuxième
cas qui est le plus intéressant, puisque le premier bloque tout interaction
avec la page tant que la réponse n&#x27;est pas arrivée.</p>
<p>Le nom &quot;AJAX&quot; est trompeur car le serveur ne renvoie pas obligatoirement du
XML. Plusieurs formats peuvent être gérés : texte brut, HTML, XML, JSON,
données binaires...</p>
<h2 id="faire-pareil-mais-sans"><a aria-hidden="true" href="#faire-pareil-mais-sans"><span class="icon icon-link"></span></a>Faire pareil, mais sans</h2>
<p>Voyons voir comment fonctionne cet objet XMLHttpRequest.</p>
<h3 id="envoyer-une-requête-simple-sans-paramètre"><a aria-hidden="true" href="#envoyer-une-requête-simple-sans-paramètre"><span class="icon icon-link"></span></a>Envoyer une requête simple, sans paramètre</h3>
<p>D&#x27;abord il nous faut un objet...</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> xhr </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"><span class="syntax--keyword syntax--operator syntax--new syntax--js"><span>new</span></span><span> </span><span class="syntax--entity syntax--name syntax--type syntax--instance syntax--js"><span>XMLHttpRequest</span></span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Ensuite il faut dire sur quelle URL on veut faire notre requête et la méthode
HTTP qu&#x27;on veut utiliser. Il est possible d&#x27;utiliser les méthodes GET et POST,
ainsi qu&#x27;une plus spéciale, HEAD, qui permet de ne récupérer que l&#x27;entête de la
réponse. Pour commencer, nous allons faire une simple requête en GET sur la
page d&#x27;accueil du blog :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>open</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>GET</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik.fr</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Il est possible de spécifier 3 autres paramètres :</p>
<ul>
<li>Un booléen spécifiant si la requête est asynchrone ou non. Par défaut
celui-ci vaut <code>true</code>, donc la requête sera asynchrone</li>
<li>Un login en cas d&#x27;identification nécessaire (type .htaccess)</li>
<li>Le mot de passe qui va avec</li>
</ul>
<p>Pour faire une requête HEAD ou POST, il suffit de spécifier la méthode
souhaitée en premier paramètre.</p>
<p>Il ne nous reste plus qu&#x27;à envoyer la requête :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>send</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--constant syntax--language syntax--null syntax--js"><span>null</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<h3 id="envoyer-une-requête-avec-des-paramètres"><a aria-hidden="true" href="#envoyer-une-requête-avec-des-paramètres"><span class="icon icon-link"></span></a>Envoyer une requête avec des paramètres</h3>
<p>Dans le cas d&#x27;une requête GET ou HEAD (qui n&#x27;est ni plus ni moins qu&#x27;une
requête GET, à la différence près qu&#x27;on ne récupère que l&#x27;entête de la
réponse), le passage de paramètres se fait dans l&#x27;URL qu&#x27;on passe à la méthode
<code>open</code>, comme on le ferait dans la barre d&#x27;adresse de notre navigateur :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>open</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>GET</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik.fr?param1=value2&amp;param2=value2</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Dans le cas d&#x27;une requête POST, il faut d&#x27;abord préciser dans l&#x27;entête de la
requête que les paramètres viennent d&#x27;un formulaire (même si ce n&#x27;est pas le
cas) :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>open</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>POST</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik.fr</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>setRequestHeader</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>Content-Type</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>application/x-form-urlencoded</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Puis il faut passer les paramètres à la méthode <code>send</code> :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>send</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>param1=value1&amp;param2=value2</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Dans les deux cas, il est nécessaire de convertir les paramètres qu&#x27;on veut
passer à notre requête, afin que ceux-ci ne contiennent aucun caractère
interdit dans une URL. Pour cela, il faut utiliser la fonction
<code>encodeURIComponent</code> :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> le caractère &quot;&amp;&quot; a une signification dans une URL, il faut donc le convertir</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> param1 </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--support syntax--function syntax--js"><span>encodeURIComponent</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value1&amp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> ici, pas de caractère à convertir, mais dans le cas d&#x27;une saisie utilisateur, on ne peut pas prédire ce qu&#x27;on reçoit !</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> param2 </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--support syntax--function syntax--js"><span>encodeURIComponent</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value2</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>send</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>param1=</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span><span> param1 </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>&amp;param2=</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span><span> param2</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Maintenant qu&#x27;on sait envoyer une requête, il faudrait savoir...</p>
<h3 id="récupérer-la-réponse"><a aria-hidden="true" href="#récupérer-la-réponse"><span class="icon icon-link"></span></a>Récupérer la réponse</h3>
<p>Qui dit asynchrone dit callback. On va donc commencer par attacher une fonction
à un événement qui nous notifiera l&#x27;arrivée de la réponse :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> Directement via onreadystatechange</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>onreadystatechange</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> Ou avec addEventListener</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>addEventListener</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>readystatechange</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Comme le nom de l&#x27;événement l&#x27;indique, nous n&#x27;écoutons pas réellement l&#x27;arrivée
de la réponse, mais tout changement d&#x27;état de la requête. Le nombre d&#x27;état
possible pour une <code>XMLHttpRequest</code> est de 5. Chaque état est représenté par un
nombre entier, ainsi qu&#x27;une constante de l&#x27;objet <code>XMLHttpRequest</code> qui le
représente :</p>
<ul>
<li><code>XMLHttpRequest.UNSENT === 0</code> : on a un objet <code>XMLHttpRequest</code> tout frais sur
lequel la méthode <code>open()</code> n&#x27;a pas encore été appelée</li>
<li><code>XMLHttpRequest.OPENED === 1</code> : la méthode <code>open()</code> a été appelée sur
l&#x27;objet, mais pas la méthode <code>send()</code></li>
<li><code>XMLHttpRequest.HEADERS_RECEIVED === 2</code> : la méthode <code>send()</code> a été appelée,
la requête a été entièrement envoyée</li>
<li><code>XMLHttpRequest.LOADING === 3</code> : le serveur a commencé à renvoyer des données</li>
<li><code>XMLHttpRequest.DONE === 4</code> : on a reçu toutes les données de la réponse</li>
</ul>
<p>Puisqu&#x27;on est intéressés uniquement par le dernier état, on va commencer par
ajouter une condition sur celui-ci :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>onreadystatechange</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>readyState</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--constant syntax--other syntax--property syntax--js"><span>DONE</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Il faut maintenant détecter si tout s&#x27;est bien passé. Si c&#x27;est le cas, alors la
réponse du serveur doit avoir un code HTTP 2xx. Nouvelle condition :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>onreadystatechange</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>readyState</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--constant syntax--other syntax--property syntax--js"><span>DONE</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&gt;=</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>200</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>&amp;&amp;</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&lt;</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>300</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> OK</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span> </span><span class="syntax--keyword syntax--control syntax--js"><span>else</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> Erreur ou redirection HTTP. Il est possible de gérer ces cas,</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> mais le but est de rester le plus simple possible ici</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<h3 id="récupérer-les-données-reçues"><a aria-hidden="true" href="#récupérer-les-données-reçues"><span class="icon icon-link"></span></a>Récupérer les données reçues</h3>
<p>Les données de la réponse sont contenues dans <code>xhr.responseXML</code> si ces données
sont du XML, et dans <code>xhr.responseText</code> dans tous les autres cas. <code>responseXML</code>
est un DOM qui peut être parcouru de la même manière que n&#x27;importe quel autre
DOM. <code>responseText</code> n&#x27;est que du texte brut. Si on sait qu&#x27;on reçoit du JSON,
alors on peut le parser avec <code>JSON.parse()</code> :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>onreadystatechange</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>readyState</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--constant syntax--other syntax--property syntax--js"><span>DONE</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&gt;=</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>200</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>&amp;&amp;</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&lt;</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>300</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> On récupère du XML</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> elements </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>responseXML</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>getElementsByTagName</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>element</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> On récupère du JSON</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> data </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--support syntax--class syntax--js"><span>JSON</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>parse</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>responseText</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span> </span><span class="syntax--keyword syntax--control syntax--js"><span>else</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span> Erreur</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<h3 id="gérer-les-erreurs"><a aria-hidden="true" href="#gérer-les-erreurs"><span class="icon icon-link"></span></a>Gérer les erreurs</h3>
<p>Lorsque le status n&#x27;est pas 2xx, c&#x27;est que le serveur a renvoyé une erreur.
Dans ce cas, on peut savoir quelle est l&#x27;erreur en regardant le code HTTP
contenu dans <code>xhr.status</code>, évidemment, mais aussi ce que contient
<code>xhr.statusText</code> :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>onreadystatechange</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>readyState</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--constant syntax--other syntax--property syntax--js"><span>DONE</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&gt;=</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>200</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>&amp;&amp;</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&lt;</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>300</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> data </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--support syntax--class syntax--js"><span>JSON</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>parse</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>responseText</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span> </span><span class="syntax--keyword syntax--control syntax--js"><span>else</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>error</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>statusText</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<h3 id="récapitulons"><a aria-hidden="true" href="#récapitulons"><span class="icon icon-link"></span></a>Récapitulons</h3>
<p>Pour faire de l&#x27;AJAX sans jQuery, voici donc ce qu&#x27;il faut faire (on imagine
qu&#x27;on veut faire une requête en POST avec les paramètres <code>param1</code> et <code>param2</code>
sur <code>http://jesmodrazik.fr</code>, et qu&#x27;on récupère du JSON qu&#x27;on veut simplement
afficher dans la console du navigateur):</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> xhr </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"><span class="syntax--keyword syntax--operator syntax--new syntax--js"><span>new</span></span><span> </span><span class="syntax--entity syntax--name syntax--type syntax--instance syntax--js"><span>XMLHttpRequest</span></span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> param1 </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--support syntax--function syntax--js"><span>encodeURIComponent</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value1&amp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> param2 </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--support syntax--function syntax--js"><span>encodeURIComponent</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value2</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>open</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>POST</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik.fr</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>setRequestHeader</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>Content-Type</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>application/x-form-urlencoded</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>onreadystatechange</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>readyState</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--constant syntax--other syntax--property syntax--js"><span>DONE</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&gt;=</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>200</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>&amp;&amp;</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&lt;</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>300</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> data </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--support syntax--class syntax--js"><span>JSON</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>parse</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>responseText</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>log</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>data</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span> </span><span class="syntax--keyword syntax--control syntax--js"><span>else</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>error</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>statusText</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>send</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>param1=</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span><span> param1 </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>&amp;param2=</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span><span> param2</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Bon heu... Autant d&#x27;habitude le JS natif est aussi simple, ou tout du moins pas
beaucoup plus compliqué que l&#x27;équivalent avec jQuery, autant là, je dois avouer
que jQuery a gagné :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>$</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>ajax</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  type</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>POST</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  url</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>hhtp://jesmodrazik.fr</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  data</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    param1</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value1&amp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    param2</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value2</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--meta syntax--function syntax--json syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>success</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>data</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>log</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>data</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  dataType</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>json</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Mais on va pas se laisser abattre, on peut toujours se débrouiller sans lui !</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span> </span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>ajax</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>options</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>async</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>hasOwnProperty</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>async</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--ternary syntax--js"><span>?</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>async</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--ternary syntax--js"><span>:</span></span><span> </span><span class="syntax--constant syntax--language syntax--boolean syntax--true syntax--js"><span>true</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>headers</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>headers</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--ternary syntax--js"><span>?</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>headers</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--ternary syntax--js"><span>:</span></span><span> </span><span class="syntax--punctuation syntax--section syntax--scope syntax--begin syntax--js"><span>{</span></span><span class="syntax--punctuation syntax--section syntax--scope syntax--end syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> xhr </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"><span class="syntax--keyword syntax--operator syntax--new syntax--js"><span>new</span></span><span> </span><span class="syntax--entity syntax--name syntax--type syntax--instance syntax--js"><span>XMLHttpRequest</span></span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>open</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>type</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>url</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>async</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--support syntax--class syntax--js"><span>Object</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>keys</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>headers</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>forEach</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>header</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>setRequestHeader</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>header</span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>headers</span></span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>[</span></span><span>header</span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>]</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>onreadystatechange</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>readyState</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--constant syntax--other syntax--property syntax--js"><span>DONE</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span> </span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&gt;=</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>200</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>&amp;&amp;</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&lt;</span></span><span> </span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>300</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>        </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>success</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>responseXML</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>||</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>responseText</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span> </span><span class="syntax--keyword syntax--control syntax--js"><span>else</span></span><span> </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>        </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>error</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>status</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>statusText</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>      </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>    </span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>send</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>options</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>data</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>||</span></span><span> </span><span class="syntax--constant syntax--language syntax--null syntax--js"><span>null</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--keyword syntax--control syntax--js"><span>return</span></span><span> xhr</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>ajax</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  type</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>POST</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  url</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik.fr</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  data</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>param1=</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--support syntax--function syntax--js"><span>encodeURIComponent</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value1&amp;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>&amp;param2=</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span> </span><span class="syntax--keyword syntax--operator syntax--js"><span>+</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--support syntax--function syntax--js"><span>encodeURIComponent</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>value2</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--meta syntax--function syntax--json syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>success</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>data</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>status</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> json </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--support syntax--class syntax--js"><span>JSON</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>parse</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>data</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>log</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>data</span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> status</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--meta syntax--function syntax--json syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>error</span></span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>:</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>status</span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> </span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>statusText</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>error</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>status</span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span> statusText</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Et voilà ! Cette fonction pourrait être plus poussée, mais en l&#x27;état elle
couvre la grande majorité des cas d&#x27;utilisation.</p>
<h2 id="xmlhttprequest-2-le-retour"><a aria-hidden="true" href="#xmlhttprequest-2-le-retour"><span class="icon icon-link"></span></a>XMLHttpRequest 2, le retour</h2>
<p>La deuxième version de la spécification XMLHttpRequest apporte son lot d&#x27;ajouts
intéressants :</p>
<ul>
<li>la possibilité de spécifier un format de réponse, via <code>xhr.responseType</code>, et
de récupérer la réponse directement au bon format via <code>xhr.response</code>. Les
formats possibles sont <code>text</code>, <code>arraybuffer</code>, <code>blob</code>, <code>document</code> ou <code>json</code></li>
<li>la possibilité d&#x27;envoyer tous les formats précédents à la requête</li>
<li>l&#x27;objet <code>FormData</code> pour envoyer très simplement des données de formulaire (et
qui gère aussi l&#x27;upload !) :</li>
</ul>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> form </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--support syntax--variable syntax--dom syntax--js"><span>document</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--dom syntax--js"><span>querySelector</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>#myForm</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--var syntax--js"><span>var</span></span><span> data </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"><span class="syntax--keyword syntax--operator syntax--new syntax--js"><span>new</span></span><span> </span><span class="syntax--entity syntax--name syntax--type syntax--instance syntax--js"><span>FormData</span></span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span>form</span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--variable syntax--other syntax--object syntax--js"><span>xhr</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>send</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>data</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Avec ces évolutions, l&#x27;objet <code>XMLHttpRequest</code> n&#x27;est pas refondu en profondeur,
mais se voit ajouter quelques propriétés qui ouvrent de nouvelles possibilités.</p>
<h2 id="le-futur-des-requêtes-asynchrones"><a aria-hidden="true" href="#le-futur-des-requêtes-asynchrones"><span class="icon icon-link"></span></a>Le &quot;futur&quot; des requêtes asynchrones</h2>
<p>Avec l&#x27;arrivée d&#x27;ES2015, des nouveautés concernant les traitements asynchrones
et les requêtes AJAX sont arrivées.</p>
<p>D&#x27;abord, l&#x27;API
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"><code>fetch</code></a>,
basée sur les <code>Promise</code>s, qui permet de faire une requête GET asynchrone en une
ligne, et d&#x27;en traiter le résultat avec du code très lisible :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>fetch</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik.fr</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>then</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>response</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--keyword syntax--control syntax--js"><span>return</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>response</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>json</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>then</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>data</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>log</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>data</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div></pre>
<p>Je vous invite à aller sur le
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">MDN</a>
si vous voulez en savoir plus.</p>
<p>Enfin, l&#x27;arrivée des fonctions asynchrones va permettre d&#x27;écrire du code
asynchrone comme si celui-ci était synchrone :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span> </span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>getSomething</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--keyword syntax--control syntax--js"><span>return</span></span><span> </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>fetch</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik.fr</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>then</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--js"><span>response</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>    </span><span class="syntax--keyword syntax--control syntax--js"><span>return</span></span><span> </span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>response</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>json</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--arguments syntax--js"><span>  </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span> </span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function syntax--js"><span class="syntax--storage syntax--modifier syntax--async syntax--js"><span>async</span></span><span> </span><span class="syntax--storage syntax--type syntax--function syntax--js"><span>function</span></span><span> </span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>getSomething</span></span><span class="syntax--meta syntax--parameters syntax--js"><span class="syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span> </span><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"><span>{</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--storage syntax--type syntax--const syntax--js"><span>const</span></span><span> </span><span class="syntax--constant syntax--other syntax--js"><span>data</span></span><span> </span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span> </span><span class="syntax--keyword syntax--control syntax--js"><span>await</span></span><span> </span><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>fetch</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://jesmodrazik</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span>  </span><span class="syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"><span>console</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--console syntax--js"><span>log</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span>data</span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"><span>}</span></span></span></div></pre>
<p>Ici, la fonction est déclarée comme étant asynchrone grâce au mot-clef <code>async</code>,
ce qui donne accès au mot-clef <code>await</code> à l&#x27;intérieur de la fonction. Ce
mot-clef permet de mettre en pause la fonction le temps qu&#x27;une <code>Promise</code> soit
résolue ou rejettée. Pour en savoir plus à propos des fonctions asynchrones, je
vous conseilles la lecture de <a href="http://putaindecode.io/fr/articles/js/es2016/async-await/">cet
article</a>.</p>
<h2 id="pour-finir"><a aria-hidden="true" href="#pour-finir"><span class="icon icon-link"></span></a>Pour finir</h2>
<p>Ca commence à devenir répétitif, mais la conclusion reste évidemment toujours a
même : comme pour la manipulation du DOM, du style des éléments de ce même DOM,
des animations, de la délégation d&#x27;événements, et j&#x27;en passe, il est donc
possible, pour les cas les plus courants, de se passer de jQuery pour faire des
requêtes AJAX. L&#x27;important est de se poser la bonne question : est-ce que pour
faire ce dont j&#x27;ai besoin, jQuery est nécessaire ? Il est aussi important, même
si on s&#x27;est mit au JavaScript avec jQuery, d&#x27;apprendre les fondamentaux. La
connaissance du langage est plus valorisante que celle de n&#x27;importe quelle
librairie. En effet, connaître le langage permet de s&#x27;adapter simplement à
n&#x27;importe quelle librairie. Alors que l&#x27;inverse n&#x27;est pas vrai.</p></div><footer style="text-align:center"><a href="https://github.com/drazik/blog/edit/master/content/posts/apprendre-a-se-servir-de-ce-quon-a-ajax/index.md" target="_blank">Proposer des modifications</a></footer></article><div><a href="/">Revenir à l&#x27;accueil</a></div></div></div></div><footer><div class="content-wrap"><section class="copy"><p>© <!-- -->2018<!-- --> Cyrille Jesmo Drazik</p></section></div></footer></div></div><script id="PhenomicHydration" type="text/json">{"path=content%2Fposts&id=apprendre-a-se-servir-de-ce-quon-a-ajax":{"status":"idle","node":{"filename":"index.md","title":"Apprendre à se servir de ce qu'on a : AJAX","headings":[{"level":2,"text":"AJAX, ou plutôt XMLHttpRequest","id":"ajax-ou-plutôt-xmlhttprequest"},{"level":2,"text":"Faire pareil, mais sans","id":"faire-pareil-mais-sans"},{"level":3,"text":"Envoyer une requête simple, sans paramètre","id":"envoyer-une-requête-simple-sans-paramètre"},{"level":3,"text":"Envoyer une requête avec des paramètres","id":"envoyer-une-requête-avec-des-paramètres"},{"level":3,"text":"Récupérer la réponse","id":"récupérer-la-réponse"},{"level":3,"text":"Récupérer les données reçues","id":"récupérer-les-données-reçues"},{"level":3,"text":"Gérer les erreurs","id":"gérer-les-erreurs"},{"level":3,"text":"Récapitulons","id":"récapitulons"},{"level":2,"text":"XMLHttpRequest 2, le retour","id":"xmlhttprequest-2-le-retour"},{"level":2,"text":"Le \"futur\" des requêtes asynchrones","id":"le-futur-des-requêtes-asynchrones"},{"level":2,"text":"Pour finir","id":"pour-finir"}],"date":"2016-11-03","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Quel site web, aujourd'hui, n'utilise pas de requête AJAX, cette technologie\npermettant d'envoyer des requêtes HTTP à un serveur de manière (a)synchrone, et\ndonc de rafraîchir des données affichées sans avoir à recharger la page en\ncours de consultation ? Celui que vous êtes en train de lire, certes... Mais\naujourd'hui une grande majorité des sites web que vous visitez tirent très\ncertainement parti d'AJAX. Mais au fait, quand on fait un ",{"t":"code","c":["$.ajax()"]},", ça fait\nquoi ?"]},"\n",{"t":"p","c":[{"t":"span","p":{"className":"more"}}]},"\n",{"t":"p","c":[{"t":"em","c":["Cet article est le sixième de la série ",{"t":"a","p":{"href":"/articles/apprendre-a-se-servir-de-ce-quon-a"},"c":["\"apprendre à se servir de ce qu'on\na\""]},", ayant pour objectif de\nmontrer que l'utilisation d'une bibliothèque telle que jQuery n'a pas toujours\nde sens. N'hésitez pas à parcourir les autres articles !"]}]},"\n",{"t":"h2","p":{"id":"ajax-ou-plutôt-xmlhttprequest"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#ajax-ou-plutôt-xmlhttprequest"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"AJAX, ou plutôt XMLHttpRequest"]},"\n",{"t":"p","c":["AJAX (pour Asynchronous Javascript And XML) n'est pas une technologie en tant\nque telle, mais un ensemble de technologies. Ce concept se base en particulier\nsur l'objet ",{"t":"code","c":["XMLHttpRequest"]}," introduit par Microsoft dans Internet Explorer,\nqui a été par la suite standardisé."]},"\n",{"t":"p","c":[{"t":"code","c":["XMLHttpRequest"]}," permet d'envoyer des requêtes HTTP vers un serveur sans avoir\nà rafraichir la page en cours d'affichage. Ces requêtes peuvent être synchrones\nou asynchrones. Dans le premier cas, l'exécution du thread JS est interrompue\net attend la réponse du serveur pour reprendre. Dans le second cas, le thread\ncontinue sa petite vie, et c'est un événement qui sera lancé pour le notifiier\nde l'arrivée de la réponse du serveur. Il va sans dire que c'est le deuxième\ncas qui est le plus intéressant, puisque le premier bloque tout interaction\navec la page tant que la réponse n'est pas arrivée."]},"\n",{"t":"p","c":["Le nom \"AJAX\" est trompeur car le serveur ne renvoie pas obligatoirement du\nXML. Plusieurs formats peuvent être gérés : texte brut, HTML, XML, JSON,\ndonnées binaires..."]},"\n",{"t":"h2","p":{"id":"faire-pareil-mais-sans"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#faire-pareil-mais-sans"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Faire pareil, mais sans"]},"\n",{"t":"p","c":["Voyons voir comment fonctionne cet objet XMLHttpRequest."]},"\n",{"t":"h3","p":{"id":"envoyer-une-requête-simple-sans-paramètre"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#envoyer-une-requête-simple-sans-paramètre"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Envoyer une requête simple, sans paramètre"]},"\n",{"t":"p","c":["D'abord il nous faut un objet..."]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" xhr "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"},"c":[{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--new syntax--js"},"c":[{"t":"span","c":["new"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--instance syntax--js"},"c":[{"t":"span","c":["XMLHttpRequest"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]},{"t":"span","c":[")"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Ensuite il faut dire sur quelle URL on veut faire notre requête et la méthode\nHTTP qu'on veut utiliser. Il est possible d'utiliser les méthodes GET et POST,\nainsi qu'une plus spéciale, HEAD, qui permet de ne récupérer que l'entête de la\nréponse. Pour commencer, nous allons faire une simple requête en GET sur la\npage d'accueil du blog :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["open"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["GET"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik.fr"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Il est possible de spécifier 3 autres paramètres :"]},"\n",{"t":"ul","c":["\n",{"t":"li","c":["Un booléen spécifiant si la requête est asynchrone ou non. Par défaut\ncelui-ci vaut ",{"t":"code","c":["true"]},", donc la requête sera asynchrone"]},"\n",{"t":"li","c":["Un login en cas d'identification nécessaire (type .htaccess)"]},"\n",{"t":"li","c":["Le mot de passe qui va avec"]},"\n"]},"\n",{"t":"p","c":["Pour faire une requête HEAD ou POST, il suffit de spécifier la méthode\nsouhaitée en premier paramètre."]},"\n",{"t":"p","c":["Il ne nous reste plus qu'à envoyer la requête :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["send"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--constant syntax--language syntax--null syntax--js"},"c":[{"t":"span","c":["null"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"h3","p":{"id":"envoyer-une-requête-avec-des-paramètres"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#envoyer-une-requête-avec-des-paramètres"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Envoyer une requête avec des paramètres"]},"\n",{"t":"p","c":["Dans le cas d'une requête GET ou HEAD (qui n'est ni plus ni moins qu'une\nrequête GET, à la différence près qu'on ne récupère que l'entête de la\nréponse), le passage de paramètres se fait dans l'URL qu'on passe à la méthode\n",{"t":"code","c":["open"]},", comme on le ferait dans la barre d'adresse de notre navigateur :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["open"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["GET"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik.fr?param1=value2&param2=value2"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Dans le cas d'une requête POST, il faut d'abord préciser dans l'entête de la\nrequête que les paramètres viennent d'un formulaire (même si ce n'est pas le\ncas) :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["open"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["POST"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik.fr"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["setRequestHeader"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["Content-Type"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["application/x-form-urlencoded"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Puis il faut passer les paramètres à la méthode ",{"t":"code","c":["send"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["send"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["param1=value1&param2=value2"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Dans les deux cas, il est nécessaire de convertir les paramètres qu'on veut\npasser à notre requête, afin que ceux-ci ne contiennent aucun caractère\ninterdit dans une URL. Pour cela, il faut utiliser la fonction\n",{"t":"code","c":["encodeURIComponent"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" le caractère \"&\" a une signification dans une URL, il faut donc le convertir"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" param1 "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["encodeURIComponent"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value1&"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" ici, pas de caractère à convertir, mais dans le cas d'une saisie utilisateur, on ne peut pas prédire ce qu'on reçoit !"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" param2 "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["encodeURIComponent"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value2"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["send"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["param1="]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]},{"t":"span","c":[" param1 "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["&param2="]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]},{"t":"span","c":[" param2"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Maintenant qu'on sait envoyer une requête, il faudrait savoir..."]},"\n",{"t":"h3","p":{"id":"récupérer-la-réponse"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#récupérer-la-réponse"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Récupérer la réponse"]},"\n",{"t":"p","c":["Qui dit asynchrone dit callback. On va donc commencer par attacher une fonction\nà un événement qui nous notifiera l'arrivée de la réponse :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" Directement via onreadystatechange"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["onreadystatechange"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" Ou avec addEventListener"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["addEventListener"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["readystatechange"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Comme le nom de l'événement l'indique, nous n'écoutons pas réellement l'arrivée\nde la réponse, mais tout changement d'état de la requête. Le nombre d'état\npossible pour une ",{"t":"code","c":["XMLHttpRequest"]}," est de 5. Chaque état est représenté par un\nnombre entier, ainsi qu'une constante de l'objet ",{"t":"code","c":["XMLHttpRequest"]}," qui le\nreprésente :"]},"\n",{"t":"ul","c":["\n",{"t":"li","c":[{"t":"code","c":["XMLHttpRequest.UNSENT === 0"]}," : on a un objet ",{"t":"code","c":["XMLHttpRequest"]}," tout frais sur\nlequel la méthode ",{"t":"code","c":["open()"]}," n'a pas encore été appelée"]},"\n",{"t":"li","c":[{"t":"code","c":["XMLHttpRequest.OPENED === 1"]}," : la méthode ",{"t":"code","c":["open()"]}," a été appelée sur\nl'objet, mais pas la méthode ",{"t":"code","c":["send()"]}]},"\n",{"t":"li","c":[{"t":"code","c":["XMLHttpRequest.HEADERS_RECEIVED === 2"]}," : la méthode ",{"t":"code","c":["send()"]}," a été appelée,\nla requête a été entièrement envoyée"]},"\n",{"t":"li","c":[{"t":"code","c":["XMLHttpRequest.LOADING === 3"]}," : le serveur a commencé à renvoyer des données"]},"\n",{"t":"li","c":[{"t":"code","c":["XMLHttpRequest.DONE === 4"]}," : on a reçu toutes les données de la réponse"]},"\n"]},"\n",{"t":"p","c":["Puisqu'on est intéressés uniquement par le dernier état, on va commencer par\najouter une condition sur celui-ci :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["onreadystatechange"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["readyState"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["==="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--constant syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["DONE"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Il faut maintenant détecter si tout s'est bien passé. Si c'est le cas, alors la\nréponse du serveur doit avoir un code HTTP 2xx. Nouvelle condition :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["onreadystatechange"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["readyState"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["==="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--constant syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["DONE"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":[">="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["200"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--logical syntax--js"},"c":[{"t":"span","c":["&&"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["<"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["300"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" OK"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["else"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" Erreur ou redirection HTTP. Il est possible de gérer ces cas,"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" mais le but est de rester le plus simple possible ici"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"h3","p":{"id":"récupérer-les-données-reçues"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#récupérer-les-données-reçues"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Récupérer les données reçues"]},"\n",{"t":"p","c":["Les données de la réponse sont contenues dans ",{"t":"code","c":["xhr.responseXML"]}," si ces données\nsont du XML, et dans ",{"t":"code","c":["xhr.responseText"]}," dans tous les autres cas. ",{"t":"code","c":["responseXML"]},"\nest un DOM qui peut être parcouru de la même manière que n'importe quel autre\nDOM. ",{"t":"code","c":["responseText"]}," n'est que du texte brut. Si on sait qu'on reçoit du JSON,\nalors on peut le parser avec ",{"t":"code","c":["JSON.parse()"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["onreadystatechange"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["readyState"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["==="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--constant syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["DONE"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":[">="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["200"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--logical syntax--js"},"c":[{"t":"span","c":["&&"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["<"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["300"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" On récupère du XML"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" elements "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["responseXML"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["getElementsByTagName"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["element"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" On récupère du JSON"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" data "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--support syntax--class syntax--js"},"c":[{"t":"span","c":["JSON"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["parse"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["responseText"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["else"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--comment syntax--line syntax--double-slash syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--comment syntax--js"},"c":[{"t":"span","c":["//"]}]},{"t":"span","c":[" Erreur"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"h3","p":{"id":"gérer-les-erreurs"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#gérer-les-erreurs"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Gérer les erreurs"]},"\n",{"t":"p","c":["Lorsque le status n'est pas 2xx, c'est que le serveur a renvoyé une erreur.\nDans ce cas, on peut savoir quelle est l'erreur en regardant le code HTTP\ncontenu dans ",{"t":"code","c":["xhr.status"]},", évidemment, mais aussi ce que contient\n",{"t":"code","c":["xhr.statusText"]}," :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["onreadystatechange"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["readyState"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["==="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--constant syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["DONE"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":[">="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["200"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--logical syntax--js"},"c":[{"t":"span","c":["&&"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["<"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["300"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" data "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--support syntax--class syntax--js"},"c":[{"t":"span","c":["JSON"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["parse"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["responseText"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["else"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["error"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["statusText"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"h3","p":{"id":"récapitulons"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#récapitulons"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Récapitulons"]},"\n",{"t":"p","c":["Pour faire de l'AJAX sans jQuery, voici donc ce qu'il faut faire (on imagine\nqu'on veut faire une requête en POST avec les paramètres ",{"t":"code","c":["param1"]}," et ",{"t":"code","c":["param2"]},"\nsur ",{"t":"code","c":["http://jesmodrazik.fr"]},", et qu'on récupère du JSON qu'on veut simplement\nafficher dans la console du navigateur):"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" xhr "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"},"c":[{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--new syntax--js"},"c":[{"t":"span","c":["new"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--instance syntax--js"},"c":[{"t":"span","c":["XMLHttpRequest"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]},{"t":"span","c":[")"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" param1 "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["encodeURIComponent"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value1&"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" param2 "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["encodeURIComponent"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value2"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["open"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["POST"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik.fr"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["setRequestHeader"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["Content-Type"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["application/x-form-urlencoded"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["onreadystatechange"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["readyState"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["==="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--constant syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["DONE"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":[">="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["200"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--logical syntax--js"},"c":[{"t":"span","c":["&&"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["<"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["300"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" data "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--support syntax--class syntax--js"},"c":[{"t":"span","c":["JSON"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["parse"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["responseText"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["log"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["data"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["else"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["error"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["statusText"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["send"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["param1="]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]},{"t":"span","c":[" param1 "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["&param2="]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]},{"t":"span","c":[" param2"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Bon heu... Autant d'habitude le JS natif est aussi simple, ou tout du moins pas\nbeaucoup plus compliqué que l'équivalent avec jQuery, autant là, je dois avouer\nque jQuery a gagné :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["$"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["ajax"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  type"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["POST"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  url"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["hhtp://jesmodrazik.fr"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  data"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    param1"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value1&"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    param2"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value2"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--json syntax--js"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["success"]}]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["data"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["log"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["data"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  dataType"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["json"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Mais on va pas se laisser abattre, on peut toujours se débrouiller sans lui !"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["ajax"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["async"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["hasOwnProperty"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["async"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--ternary syntax--js"},"c":[{"t":"span","c":["?"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["async"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--ternary syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--language syntax--boolean syntax--true syntax--js"},"c":[{"t":"span","c":["true"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["headers"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["headers"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--ternary syntax--js"},"c":[{"t":"span","c":["?"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["headers"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--ternary syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--section syntax--scope syntax--begin syntax--js"},"c":[{"t":"span","c":["{"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--section syntax--scope syntax--end syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" xhr "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"},"c":[{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--new syntax--js"},"c":[{"t":"span","c":["new"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--instance syntax--js"},"c":[{"t":"span","c":["XMLHttpRequest"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]},{"t":"span","c":[")"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["open"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["type"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["url"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["async"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--support syntax--class syntax--js"},"c":[{"t":"span","c":["Object"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["keys"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["headers"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["forEach"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["header"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["setRequestHeader"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["header"]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["headers"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--square syntax--js"},"c":[{"t":"span","c":["["]}]},{"t":"span","c":["header"]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--square syntax--js"},"c":[{"t":"span","c":["]"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["onreadystatechange"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["readyState"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["==="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--constant syntax--other syntax--property syntax--js"},"c":[{"t":"span","c":["DONE"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["if"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":[">="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["200"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--logical syntax--js"},"c":[{"t":"span","c":["&&"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--comparison syntax--js"},"c":[{"t":"span","c":["<"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--numeric syntax--decimal syntax--js"},"c":[{"t":"span","c":["300"]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["        "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["success"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["responseXML"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--logical syntax--js"},"c":[{"t":"span","c":["||"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["responseText"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["else"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["        "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["error"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["statusText"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["      "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["send"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["options"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--property syntax--dom syntax--js"},"c":[{"t":"span","c":["data"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--logical syntax--js"},"c":[{"t":"span","c":["||"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--language syntax--null syntax--js"},"c":[{"t":"span","c":["null"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["return"]}]},{"t":"span","c":[" xhr"]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["ajax"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  type"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["POST"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  url"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik.fr"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  data"]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["param1="]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["encodeURIComponent"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value1&"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["&param2="]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--js"},"c":[{"t":"span","c":["+"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["encodeURIComponent"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["value2"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--json syntax--js"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["success"]}]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["data"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" json "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--support syntax--class syntax--js"},"c":[{"t":"span","c":["JSON"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["parse"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["data"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["log"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["data"]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" status"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--json syntax--js"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["error"]}]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":[":"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["status"]}]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["statusText"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["error"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["status"]},{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"},"c":[{"t":"span","c":[","]}]},{"t":"span","c":[" statusText"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Et voilà ! Cette fonction pourrait être plus poussée, mais en l'état elle\ncouvre la grande majorité des cas d'utilisation."]},"\n",{"t":"h2","p":{"id":"xmlhttprequest-2-le-retour"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#xmlhttprequest-2-le-retour"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"XMLHttpRequest 2, le retour"]},"\n",{"t":"p","c":["La deuxième version de la spécification XMLHttpRequest apporte son lot d'ajouts\nintéressants :"]},"\n",{"t":"ul","c":["\n",{"t":"li","c":["la possibilité de spécifier un format de réponse, via ",{"t":"code","c":["xhr.responseType"]},", et\nde récupérer la réponse directement au bon format via ",{"t":"code","c":["xhr.response"]},". Les\nformats possibles sont ",{"t":"code","c":["text"]},", ",{"t":"code","c":["arraybuffer"]},", ",{"t":"code","c":["blob"]},", ",{"t":"code","c":["document"]}," ou ",{"t":"code","c":["json"]}]},"\n",{"t":"li","c":["la possibilité d'envoyer tous les formats précédents à la requête"]},"\n",{"t":"li","c":["l'objet ",{"t":"code","c":["FormData"]}," pour envoyer très simplement des données de formulaire (et\nqui gère aussi l'upload !) :"]},"\n"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" form "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--support syntax--variable syntax--dom syntax--js"},"c":[{"t":"span","c":["document"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--dom syntax--js"},"c":[{"t":"span","c":["querySelector"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","c":["#myForm"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--var syntax--js"},"c":[{"t":"span","c":["var"]}]},{"t":"span","c":[" data "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--class syntax--instance syntax--constructor syntax--js"},"c":[{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--new syntax--js"},"c":[{"t":"span","c":["new"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--instance syntax--js"},"c":[{"t":"span","c":["FormData"]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["form"]},{"t":"span","p":{"className":"syntax--meta syntax--brace syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["xhr"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--js"},"c":[{"t":"span","c":["send"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["data"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Avec ces évolutions, l'objet ",{"t":"code","c":["XMLHttpRequest"]}," n'est pas refondu en profondeur,\nmais se voit ajouter quelques propriétés qui ouvrent de nouvelles possibilités."]},"\n",{"t":"h2","p":{"id":"le-futur-des-requêtes-asynchrones"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#le-futur-des-requêtes-asynchrones"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Le \"futur\" des requêtes asynchrones"]},"\n",{"t":"p","c":["Avec l'arrivée d'ES2015, des nouveautés concernant les traitements asynchrones\net les requêtes AJAX sont arrivées."]},"\n",{"t":"p","c":["D'abord, l'API\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"},"c":[{"t":"code","c":["fetch"]}]},",\nbasée sur les ",{"t":"code","c":["Promise"]},"s, qui permet de faire une requête GET asynchrone en une\nligne, et d'en traiter le résultat avec du code très lisible :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["fetch"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik.fr"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["then"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["response"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["return"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["response"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["json"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["then"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["data"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["log"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["data"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]},"\n",{"t":"p","c":["Je vous invite à aller sur le\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"},"c":["MDN"]},"\nsi vous voulez en savoir plus."]},"\n",{"t":"p","c":["Enfin, l'arrivée des fonctions asynchrones va permettre d'écrire du code\nasynchrone comme si celui-ci était synchrone :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["getSomething"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["return"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["fetch"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik.fr"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["then"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--variable syntax--parameter syntax--function syntax--js"},"c":[{"t":"span","c":["response"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["    "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["return"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--variable syntax--other syntax--object syntax--js"},"c":[{"t":"span","c":["response"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["json"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":[" "]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--function syntax--js"},"c":[{"t":"span","p":{"className":"syntax--storage syntax--modifier syntax--async syntax--js"},"c":[{"t":"span","c":["async"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--function syntax--js"},"c":[{"t":"span","c":["function"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["getSomething"]}]},{"t":"span","p":{"className":"syntax--meta syntax--parameters syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["{"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--storage syntax--type syntax--const syntax--js"},"c":[{"t":"span","c":["const"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--constant syntax--other syntax--js"},"c":[{"t":"span","c":["data"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--operator syntax--assignment syntax--js"},"c":[{"t":"span","c":["="]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--keyword syntax--control syntax--js"},"c":[{"t":"span","c":["await"]}]},{"t":"span","c":[" "]},{"t":"span","p":{"className":"syntax--meta syntax--function-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--entity syntax--name syntax--function syntax--js"},"c":[{"t":"span","c":["fetch"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","p":{"className":"syntax--string syntax--quoted syntax--double syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"},"c":[{"t":"span","c":["\""]}]},{"t":"span","p":{"className":"syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"},"c":[{"t":"span","c":["http://jesmodrazik"]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"},"c":[{"t":"span","c":["\""]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","c":["  "]},{"t":"span","p":{"className":"syntax--entity syntax--name syntax--type syntax--object syntax--console syntax--js"},"c":[{"t":"span","c":["console"]}]},{"t":"span","p":{"className":"syntax--meta syntax--method-call syntax--js"},"c":[{"t":"span","p":{"className":"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"},"c":[{"t":"span","c":["."]}]},{"t":"span","p":{"className":"syntax--support syntax--function syntax--console syntax--js"},"c":[{"t":"span","c":["log"]}]},{"t":"span","p":{"className":"syntax--meta syntax--arguments syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":["("]}]},{"t":"span","c":["data"]},{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"},"c":[{"t":"span","c":[")"]}]}]}]},{"t":"span","p":{"className":"syntax--punctuation syntax--terminator syntax--statement syntax--js"},"c":[{"t":"span","c":[";"]}]}]}]},{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--source syntax--js"},"c":[{"t":"span","p":{"className":"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js"},"c":[{"t":"span","c":["}"]}]}]}]}]},"\n",{"t":"p","c":["Ici, la fonction est déclarée comme étant asynchrone grâce au mot-clef ",{"t":"code","c":["async"]},",\nce qui donne accès au mot-clef ",{"t":"code","c":["await"]}," à l'intérieur de la fonction. Ce\nmot-clef permet de mettre en pause la fonction le temps qu'une ",{"t":"code","c":["Promise"]}," soit\nrésolue ou rejettée. Pour en savoir plus à propos des fonctions asynchrones, je\nvous conseilles la lecture de ",{"t":"a","p":{"href":"http://putaindecode.io/fr/articles/js/es2016/async-await/"},"c":["cet\narticle"]},"."]},"\n",{"t":"h2","p":{"id":"pour-finir"},"c":[{"t":"a","p":{"aria-hidden":true,"href":"#pour-finir"},"c":[{"t":"span","p":{"className":"icon icon-link"}}]},"Pour finir"]},"\n",{"t":"p","c":["Ca commence à devenir répétitif, mais la conclusion reste évidemment toujours a\nmême : comme pour la manipulation du DOM, du style des éléments de ce même DOM,\ndes animations, de la délégation d'événements, et j'en passe, il est donc\npossible, pour les cas les plus courants, de se passer de jQuery pour faire des\nrequêtes AJAX. L'important est de se poser la bonne question : est-ce que pour\nfaire ce dont j'ai besoin, jQuery est nécessaire ? Il est aussi important, même\nsi on s'est mit au JavaScript avec jQuery, d'apprendre les fondamentaux. La\nconnaissance du langage est plus valorisante que celle de n'importe quelle\nlibrairie. En effet, connaître le langage permet de s'adapter simplement à\nn'importe quelle librairie. Alors que l'inverse n'est pas vrai."]}]}}}}</script><script src="/phenomic/phenomic.main.d23fff91.js" async=""></script></body></html>