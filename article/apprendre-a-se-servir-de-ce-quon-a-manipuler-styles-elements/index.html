<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/phenomic/phenomic.main.7846c209.css"/></head><body><div id="PhenomicRoot"><div data-reactroot=""><header class="header"><div class="content-wrap"><div class="logo"><h1><a href="/">Jesmo Drazik Blog</a></h1><p class="description">Développeur front-end @ Cozy Cloud</p><div class="find-me"><a href="https://twitter.com/JesmoDrazik">Twitter</a><a href="https://github.com/drazik">GitHub</a></div></div></div></header><div id="content"><div class="content-wrap"><div><article class="article"><h1 style="text-align:center">Apprendre à se servir de ce qu&#x27;on a : manipuler les styles des éléments</h1><p><strong>Attention, cet article a été publié il y a plus d&#x27;un an. Son contenu ne doit plus être prit pour argent comptant. Vous devriez recouper les informations qu&#x27;il contient avec d&#x27;autres sources, afin de vous assurer que celles-ci sont toujours d&#x27;actualité.</strong></p><div><p>Ajouter, modifier, supprimer des styles inline, des classes... Autant de choses
facilitées par les jQuery-like, mais tout aussi simple à faire sans.</p>
<p><span class="more"></span></p>
<p><em>Cet article est le troisième de la série <a href="/articles/apprendre-a-se-servir-de-ce-quon-a">&quot;apprendre à se servir de ce qu&#x27;on
a&quot;</a>, ayant pour objectif de
montrer que l&#x27;utilisation d&#x27;une bibliothèque telle que jQuery n&#x27;a pas toujours
de sens. N&#x27;hésitez pas à parcourir les autres articles !</em></p>
<h2 id="manipuler-les-styles-inline"><a aria-hidden="true" href="#manipuler-les-styles-inline"><span class="icon icon-link"></span></a>Manipuler les styles inline</h2>
<p>Avec jQuery, on ferait ça de la manière suivante :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>var $element = $(&quot;#element&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>$element.css(&quot;background-color&quot;, &quot;#000&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>$element.css({</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>  color: &quot;#fff&quot;,</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>  display: &quot;block&quot;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>});</span></span></div></pre>
<p>Mais c&#x27;est tout aussi simple avec
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style"><code>HTMLElement.style</code></a>
:</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>var element = document.getElementById(&quot;element&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.style.backgroundColor = &quot;#000&quot;;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.style.color = &quot;#fff&quot;;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.style.display = &quot;block&quot;;</span></span></div></pre>
<p>Toutefois on n&#x27;a pas la possibilité de passer directement un objet à
<code>HTMLElement.style</code>, comme on le fait avec la méthode <code>css</code> de jQuery, puisque
<code>HTMLElement.style</code> n&#x27;est pas un simple objet mais un <code>CSSStyleDeclaration</code>. La
liste des propriétés CSS accessibles accessible via <code>style</code> est disponible <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Properties_Reference">sur
le
MDN</a>.</p>
<p>Pour modifier plusieurs propriétés d&#x27;un seul coup, il est quand même possible
d&#x27;utiliser <code>CSSStyleDeclaration.cssText</code> :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.style.cssText = &quot;background-color: #000; color: #fff; display: block;&quot;;</span></span></div></pre>
<p>Ca marche ©, mais c&#x27;est quand même beaucoup moins cool à lire qu&#x27;un objet.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration">Documentation de <code>CSSStyleDeclaration</code></a></li>
</ul>
<h2 id="manipuler-les-classes"><a aria-hidden="true" href="#manipuler-les-classes"><span class="icon icon-link"></span></a>Manipuler les classes</h2>
<p>Le plus simple pour gérer les classes d&#x27;un element, c&#x27;est
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/className?redirectlocale=en-US&amp;redirectslug=DOM%2Felement.className"><code>Element.className</code></a>
:</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>var element = document.getElementById(&quot;element&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.className = &quot;toto&quot;;</span></span></div></pre>
<p>Avec ce bout de code, l&#x27;élément ayant l&#x27;id <code>element</code> se verra attribuer la
classe &quot;toto&quot;. Toutefois, si l&#x27;élément a plusieurs classes, l&#x27;affectation de
son <code>className</code> écrasera tout. On a donc besoin d&#x27;un moyen de gérer la liste
des classes de l&#x27;élément, et non pas la chaîne de caractères la représentant.
Ce qui nous mène à l&#x27;API
<a href="tps://developer.mozilla.org/en-US/docs/Web/API/Element/classList?redirectlocale=en-US&amp;redirectslug=DOM%2Felement.classList"><code>Element.classList</code></a>.</p>
<p>Cette API est très simple puisqu&#x27;elle n&#x27;expose que 4 méthodes : <code>add()</code>,
<code>remove()</code>, <code>toggle</code> et <code>contains</code>, donc les noms sont plutôt évocateurs :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>//&lt;div id=&quot;element&quot;&gt;&lt;/div&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.classList.add(&quot;toto&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>//&lt;div class=&quot;toto&quot; id=&quot;element&quot;&gt;&lt;/div&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.classList.remove(&quot;toto&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>//&lt;div class=&quot;&quot; id=&quot;element&quot;&gt;&lt;/div&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.classList.toggle(&quot;toto&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>//&lt;div class=&quot;toto&quot; id=&quot;element&quot;&gt;&lt;/div&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>element.classList.toggle(&quot;toto&quot;);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>//&lt;div class=&quot;&quot; id=&quot;element&quot;&gt;&lt;/div&gt;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>console.log(element.classList.contains(&quot;toto&quot;));</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>// false</span></span></div></pre>
<p>L&#x27;API <code>classList</code> n&#x27;est utilisable qu&#x27;à partir d&#x27;IE 10. Pour les versions
antérieures, il faut donc faire appel à un polyfill tel que celui fournit sur
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/classList?redirectlocale=en-US&amp;redirectslug=DOM%2Felement.classList#wrapper">le
MDN</a>
qui est compatible jusqu&#x27;à IE 8.</p>
<p>Nous avons donc vu qu&#x27;il était possible de gérer les styles d&#x27;un élément du DOM
via ses styles inline, mais aussi sa liste de classes, et ce sans utiliser de
bibliothèque tierces (uniquement un minuscule polyfill dans le cas où de
vieilles versions d&#x27;IE devraient être supportées).</p></div><footer style="text-align:center"><a href="https://github.com/drazik/blog/edit/master/content/posts/apprendre-a-se-servir-de-ce-quon-a-manipuler-styles-elements/index.md" target="_blank">Proposer des modifications</a></footer></article><div><a href="/">Revenir à l&#x27;accueil</a></div></div></div></div><footer><div class="content-wrap"><section class="copy"><p>© <!-- -->2018<!-- --> Cyrille Jesmo Drazik</p></section></div></footer></div></div><script id="PhenomicHydration" type="text/json">{"path=content%2Fposts&id=apprendre-a-se-servir-de-ce-quon-a-manipuler-styles-elements":{"status":"idle","node":{"filename":"index.md","title":"Apprendre à se servir de ce qu'on a : manipuler les styles des éléments","headings":[{"level":2,"text":"Manipuler les styles inline","id":"manipuler-les-styles-inline"},{"level":2,"text":"Manipuler les classes","id":"manipuler-les-classes"}],"date":"2015-05-14","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Ajouter, modifier, supprimer des styles inline, des classes... Autant de choses\nfacilitées par les jQuery-like, mais tout aussi simple à faire sans."]},"\n",{"t":"p","c":[{"t":"span","p":{"class":"more"}}]},"\n",{"t":"p","c":[{"t":"em","c":["Cet article est le troisième de la série ",{"t":"a","p":{"href":"/articles/apprendre-a-se-servir-de-ce-quon-a"},"c":["\"apprendre à se servir de ce qu'on\na\""]},", ayant pour objectif de\nmontrer que l'utilisation d'une bibliothèque telle que jQuery n'a pas toujours\nde sens. N'hésitez pas à parcourir les autres articles !"]}]},"\n",{"t":"h2","p":{"id":"manipuler-les-styles-inline"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#manipuler-les-styles-inline"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"Manipuler les styles inline"]},"\n",{"t":"p","c":["Avec jQuery, on ferait ça de la manière suivante :"]},"\n",{"t":"pre","p":{"class":"editor editor-colors"},"c":[{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["var $element = $(\"#element\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["$element.css(\"background-color\", \"#000\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["$element.css({"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  color: \"#fff\","]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  display: \"block\""]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["});"]}]}]}]},"\n",{"t":"p","c":["Mais c'est tout aussi simple avec\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style"},"c":[{"t":"code","c":["HTMLElement.style"]}]},"\n:"]},"\n",{"t":"pre","p":{"class":"editor editor-colors"},"c":[{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["var element = document.getElementById(\"element\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.backgroundColor = \"#000\";"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.color = \"#fff\";"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.display = \"block\";"]}]}]}]},"\n",{"t":"p","c":["Toutefois on n'a pas la possibilité de passer directement un objet à\n",{"t":"code","c":["HTMLElement.style"]},", comme on le fait avec la méthode ",{"t":"code","c":["css"]}," de jQuery, puisque\n",{"t":"code","c":["HTMLElement.style"]}," n'est pas un simple objet mais un ",{"t":"code","c":["CSSStyleDeclaration"]},". La\nliste des propriétés CSS accessibles accessible via ",{"t":"code","c":["style"]}," est disponible ",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Properties_Reference"},"c":["sur\nle\nMDN"]},"."]},"\n",{"t":"p","c":["Pour modifier plusieurs propriétés d'un seul coup, il est quand même possible\nd'utiliser ",{"t":"code","c":["CSSStyleDeclaration.cssText"]}," :"]},"\n",{"t":"pre","p":{"class":"editor editor-colors"},"c":[{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.style.cssText = \"background-color: #000; color: #fff; display: block;\";"]}]}]}]},"\n",{"t":"p","c":["Ca marche ©, mais c'est quand même beaucoup moins cool à lire qu'un objet."]},"\n",{"t":"ul","c":["\n",{"t":"li","c":[{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration"},"c":["Documentation de ",{"t":"code","c":["CSSStyleDeclaration"]}]}]},"\n"]},"\n",{"t":"h2","p":{"id":"manipuler-les-classes"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#manipuler-les-classes"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"Manipuler les classes"]},"\n",{"t":"p","c":["Le plus simple pour gérer les classes d'un element, c'est\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Element/className?redirectlocale=en-US&redirectslug=DOM%2Felement.className"},"c":[{"t":"code","c":["Element.className"]}]},"\n:"]},"\n",{"t":"pre","p":{"class":"editor editor-colors"},"c":[{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["var element = document.getElementById(\"element\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.className = \"toto\";"]}]}]}]},"\n",{"t":"p","c":["Avec ce bout de code, l'élément ayant l'id ",{"t":"code","c":["element"]}," se verra attribuer la\nclasse \"toto\". Toutefois, si l'élément a plusieurs classes, l'affectation de\nson ",{"t":"code","c":["className"]}," écrasera tout. On a donc besoin d'un moyen de gérer la liste\ndes classes de l'élément, et non pas la chaîne de caractères la représentant.\nCe qui nous mène à l'API\n",{"t":"a","p":{"href":"tps://developer.mozilla.org/en-US/docs/Web/API/Element/classList?redirectlocale=en-US&redirectslug=DOM%2Felement.classList"},"c":[{"t":"code","c":["Element.classList"]}]},"."]},"\n",{"t":"p","c":["Cette API est très simple puisqu'elle n'expose que 4 méthodes : ",{"t":"code","c":["add()"]},",\n",{"t":"code","c":["remove()"]},", ",{"t":"code","c":["toggle"]}," et ",{"t":"code","c":["contains"]},", donc les noms sont plutôt évocateurs :"]},"\n",{"t":"pre","p":{"class":"editor editor-colors"},"c":[{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div id=\"element\"></div>"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.add(\"toto\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"toto\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.remove(\"toto\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.toggle(\"toto\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"toto\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["element.classList.toggle(\"toto\");"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["//<div class=\"\" id=\"element\"></div>"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["console.log(element.classList.contains(\"toto\"));"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["// false"]}]}]}]},"\n",{"t":"p","c":["L'API ",{"t":"code","c":["classList"]}," n'est utilisable qu'à partir d'IE 10. Pour les versions\nantérieures, il faut donc faire appel à un polyfill tel que celui fournit sur\n",{"t":"a","p":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList?redirectlocale=en-US&redirectslug=DOM%2Felement.classList#wrapper"},"c":["le\nMDN"]},"\nqui est compatible jusqu'à IE 8."]},"\n",{"t":"p","c":["Nous avons donc vu qu'il était possible de gérer les styles d'un élément du DOM\nvia ses styles inline, mais aussi sa liste de classes, et ce sans utiliser de\nbibliothèque tierces (uniquement un minuscule polyfill dans le cas où de\nvieilles versions d'IE devraient être supportées)."]}]}}}}</script><script src="/phenomic/phenomic.main.7846c209.js" async=""></script></body></html>