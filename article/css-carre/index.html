<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/phenomic/phenomic.main.44e9c842.css"/></head><body><div id="PhenomicRoot"><div data-reactroot=""><header class="header"><div class="content-wrap"><div class="logo"><h1><a href="/">Jesmo Drazik Blog</a></h1><p class="description">Développeur front-end @ Cozy Cloud</p><div class="find-me"><a href="https://twitter.com/JesmoDrazik">Twitter</a><a href="https://github.com/drazik">GitHub</a></div></div></div></header><div id="content"><div class="content-wrap"><div><article class="article"><h1 style="text-align:center">Faire des carrés</h1><p><strong>Attention, cet article a été publié il y a plus d&#x27;un an. Son contenu ne doit plus être prit pour argent comptant. Vous devriez recouper les informations qu&#x27;il contient avec d&#x27;autres sources, afin de vous assurer que celles-ci sont toujours d&#x27;actualité.</strong></p><div><p>Quoi de plus simple qu&#x27;un carré ? Pourtant, comment dire à un élément HTML que
sa hauteur doit être égale à sa largeur ?</p>
<h2 id="la-méthode-tout-en-dur"><a aria-hidden="true" href="#la-méthode-tout-en-dur"><span class="icon icon-link"></span></a>La méthode &quot;tout en dur&quot;</h2>
<p>C&#x27;est la méthode qui est la plus simple et la plus inutile en même temps :</p>
<p data-height="300" data-theme-id="15557" data-slug-hash="dXjrGm" data-default-tab="html,result" data-user="JesmoDrazik" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/JesmoDrazik/pen/dXjrGm/">Fixed width and height square</a> by Cyrille Perois (<a href="http://codepen.io/JesmoDrazik">@JesmoDrazik</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<p>Alors oui, ça fait un carré, c&#x27;est indéniable. Pourtant, rare sont les cas dans
lesquels ont peut se permettre de donner une taille fixe à un élément
aujourd&#x27;hui. On a plus souvent besoin que l&#x27;élément soit un carré, et le reste
même quand celui-ci est redimensionné.</p>
<p>Mais il n&#x27;existe pas de moyen simple et évident en CSS pour donner à un élément
une hauteur égale à sa largeur à tout moment. Quelque chose comme ceci... :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>.Square {</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>  display: block;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>  width: 25%;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>  height: computed-property(width);</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>}</span></span></div></pre>
<p>... qui prendrait la valeur calculée de <code>width</code> pour l&#x27;appliquer à <code>height</code>. Il
nous faut donc une solution pour &quot;écouter&quot; la largeur de notre élément afin d&#x27;y
appliquer une hauteur égale.</p>
<h2 id="la-méthode-javascript"><a aria-hidden="true" href="#la-méthode-javascript"><span class="icon icon-link"></span></a>La méthode JavaScript</h2>
<p>La solution qui vient immédiatement en tête est d&#x27;utiliser du JS pour écouter
l&#x27;événement <code>resize</code> sur la <code>window</code>, lire la <code>width</code> de l&#x27;élément et
l&#x27;appliquer à sa <code>height</code> :</p>
<p data-height="300" data-theme-id="15557" data-slug-hash="mEjPPQ" data-default-tab="js,result" data-user="JesmoDrazik" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/JesmoDrazik/pen/mEjPPQ/">Squares using JavaScript</a> by Cyrille Perois (<a href="http://codepen.io/JesmoDrazik">@JesmoDrazik</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<p>(il serait évidemment une bonne idée d&#x27;utiliser un
<a href="https://lodash.com/docs#debounce"><code>debounce</code></a> pour ne pas lancer la fonction
un trop grand nombre de fois, mais le but est de rester simple ici)</p>
<p>Cette solution fonctionne, mais le fait que mes éléments soient carrés devrait
être laissé à la responsabilité de CSS. En effet, mon JS peut être bloqué par
n&#x27;importe quel traitement, erreur, voir même être désactivé par l&#x27;utilisateur
(c&#x27;est rare mais ça existe). Une solution CSS only serait préférable.</p>
<h2 id="la-méthode-je-connais-css"><a aria-hidden="true" href="#la-méthode-je-connais-css"><span class="icon icon-link"></span></a>La méthode &quot;je connais CSS&quot;</h2>
<p>En me baladant sur un site en cours de développement chez Wandi, j&#x27;ai remarqué
que des éléments d&#x27;une page étaient carrés, et le restaient lorsqu&#x27;on
redimensionne la fenêtre du navigateur. Je suis allé voir le JS associé, pour
m&#x27;assurer qu&#x27;un <code>debounce</code> était appliqué, afin d&#x27;optimiser les performances.
A ma grande surprise, aucun JS n&#x27;était de la partie, tout était fait en CSS.
J&#x27;ai donc demandé au collègue qui s&#x27;est chargé du développement de ce composant
sa petite astuce. Et celle-ci repose sur le simple fait suivant : lorsqu&#x27;on
applique une valeur en pourcentage à un padding, celle-ci se base sur la
largeur de l&#x27;élément englobant.</p>
<p>Il existe donc bien un moyen de donner à un élément une hauteur égale à sa
largeur, et ce de manière fluide : appliquer un <code>padding-bottom: 100%</code> à un
pseudo-élément.</p>
<p data-height="300" data-theme-id="15557" data-slug-hash="GqBoGd" data-default-tab="css,result" data-user="JesmoDrazik" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/JesmoDrazik/pen/GqBoGd/">CSS only square</a> by Cyrille Perois (<a href="http://codepen.io/JesmoDrazik">@JesmoDrazik</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>
<p>Et voici. Je tire trois enseignements de cette expérience :</p>
<ul>
<li>Comment faire des carrés en CSS !</li>
<li>Lire la documentation, comme toujours, est primordial</li>
<li>Le partage de connaissances, lui aussi, est primordial. Je remercie donc ce
collègue (qui est apprenti, vous avez des choses à apprendre de vos apprentis)
d&#x27;avoir partagé ceci avec moi</li>
</ul></div><footer style="text-align:center"><a href="https://github.com/drazik/blog/edit/master/content/posts/css-carre/index.md" target="_blank">Proposer des modifications</a></footer></article><div><a href="/">Revenir à l&#x27;accueil</a></div></div></div></div><footer><div class="content-wrap"><section class="copy"><p>© <!-- -->2018<!-- --> Cyrille Jesmo Drazik</p></section></div></footer></div></div><script id="PhenomicHydration" type="text/json">{"path=content%2Fposts&id=css-carre":{"status":"idle","node":{"filename":"index.md","title":"Faire des carrés","headings":[{"level":2,"text":"La méthode \"tout en dur\"","id":"la-méthode-tout-en-dur"},{"level":2,"text":"La méthode JavaScript","id":"la-méthode-javascript"},{"level":2,"text":"La méthode \"je connais CSS\"","id":"la-méthode-je-connais-css"}],"date":"2016-08-03","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Quoi de plus simple qu'un carré ? Pourtant, comment dire à un élément HTML que\nsa hauteur doit être égale à sa largeur ?"]},"\n",{"t":"h2","p":{"id":"la-méthode-tout-en-dur"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#la-méthode-tout-en-dur"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"La méthode \"tout en dur\""]},"\n",{"t":"p","c":["C'est la méthode qui est la plus simple et la plus inutile en même temps :"]},"\n",{"t":"p","p":{"data-height":"300","data-theme-id":"15557","data-slug-hash":"dXjrGm","data-default-tab":"html,result","data-user":"JesmoDrazik","data-embed-version":"2","class":"codepen"},"c":["See the Pen ",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik/pen/dXjrGm/"},"c":["Fixed width and height square"]}," by Cyrille Perois (",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik"},"c":["@JesmoDrazik"]},") on ",{"t":"a","p":{"href":"http://codepen.io"},"c":["CodePen"]},"."]},"\n",{"t":"p","c":["Alors oui, ça fait un carré, c'est indéniable. Pourtant, rare sont les cas dans\nlesquels ont peut se permettre de donner une taille fixe à un élément\naujourd'hui. On a plus souvent besoin que l'élément soit un carré, et le reste\nmême quand celui-ci est redimensionné."]},"\n",{"t":"p","c":["Mais il n'existe pas de moyen simple et évident en CSS pour donner à un élément\nune hauteur égale à sa largeur à tout moment. Quelque chose comme ceci... :"]},"\n",{"t":"pre","p":{"class":"editor editor-colors"},"c":[{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":[".Square {"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  display: block;"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  width: 25%;"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["  height: computed-property(width);"]}]}]},{"t":"div","p":{"class":"line"},"c":[{"t":"span","p":{"class":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["}"]}]}]}]},"\n",{"t":"p","c":["... qui prendrait la valeur calculée de ",{"t":"code","c":["width"]}," pour l'appliquer à ",{"t":"code","c":["height"]},". Il\nnous faut donc une solution pour \"écouter\" la largeur de notre élément afin d'y\nappliquer une hauteur égale."]},"\n",{"t":"h2","p":{"id":"la-méthode-javascript"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#la-méthode-javascript"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"La méthode JavaScript"]},"\n",{"t":"p","c":["La solution qui vient immédiatement en tête est d'utiliser du JS pour écouter\nl'événement ",{"t":"code","c":["resize"]}," sur la ",{"t":"code","c":["window"]},", lire la ",{"t":"code","c":["width"]}," de l'élément et\nl'appliquer à sa ",{"t":"code","c":["height"]}," :"]},"\n",{"t":"p","p":{"data-height":"300","data-theme-id":"15557","data-slug-hash":"mEjPPQ","data-default-tab":"js,result","data-user":"JesmoDrazik","data-embed-version":"2","class":"codepen"},"c":["See the Pen ",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik/pen/mEjPPQ/"},"c":["Squares using JavaScript"]}," by Cyrille Perois (",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik"},"c":["@JesmoDrazik"]},") on ",{"t":"a","p":{"href":"http://codepen.io"},"c":["CodePen"]},"."]},"\n",{"t":"p","c":["(il serait évidemment une bonne idée d'utiliser un\n",{"t":"a","p":{"href":"https://lodash.com/docs#debounce"},"c":[{"t":"code","c":["debounce"]}]}," pour ne pas lancer la fonction\nun trop grand nombre de fois, mais le but est de rester simple ici)"]},"\n",{"t":"p","c":["Cette solution fonctionne, mais le fait que mes éléments soient carrés devrait\nêtre laissé à la responsabilité de CSS. En effet, mon JS peut être bloqué par\nn'importe quel traitement, erreur, voir même être désactivé par l'utilisateur\n(c'est rare mais ça existe). Une solution CSS only serait préférable."]},"\n",{"t":"h2","p":{"id":"la-méthode-je-connais-css"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#la-méthode-je-connais-css"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"La méthode \"je connais CSS\""]},"\n",{"t":"p","c":["En me baladant sur un site en cours de développement chez Wandi, j'ai remarqué\nque des éléments d'une page étaient carrés, et le restaient lorsqu'on\nredimensionne la fenêtre du navigateur. Je suis allé voir le JS associé, pour\nm'assurer qu'un ",{"t":"code","c":["debounce"]}," était appliqué, afin d'optimiser les performances.\nA ma grande surprise, aucun JS n'était de la partie, tout était fait en CSS.\nJ'ai donc demandé au collègue qui s'est chargé du développement de ce composant\nsa petite astuce. Et celle-ci repose sur le simple fait suivant : lorsqu'on\napplique une valeur en pourcentage à un padding, celle-ci se base sur la\nlargeur de l'élément englobant."]},"\n",{"t":"p","c":["Il existe donc bien un moyen de donner à un élément une hauteur égale à sa\nlargeur, et ce de manière fluide : appliquer un ",{"t":"code","c":["padding-bottom: 100%"]}," à un\npseudo-élément."]},"\n",{"t":"p","p":{"data-height":"300","data-theme-id":"15557","data-slug-hash":"GqBoGd","data-default-tab":"css,result","data-user":"JesmoDrazik","data-embed-version":"2","class":"codepen"},"c":["See the Pen ",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik/pen/GqBoGd/"},"c":["CSS only square"]}," by Cyrille Perois (",{"t":"a","p":{"href":"http://codepen.io/JesmoDrazik"},"c":["@JesmoDrazik"]},") on ",{"t":"a","p":{"href":"http://codepen.io"},"c":["CodePen"]},"."]},"\n",{"t":"script","p":{"async":true,"src":"//assets.codepen.io/assets/embed/ei.js"}},"\n",{"t":"p","c":["Et voici. Je tire trois enseignements de cette expérience :"]},"\n",{"t":"ul","c":["\n",{"t":"li","c":["Comment faire des carrés en CSS !"]},"\n",{"t":"li","c":["Lire la documentation, comme toujours, est primordial"]},"\n",{"t":"li","c":["Le partage de connaissances, lui aussi, est primordial. Je remercie donc ce\ncollègue (qui est apprenti, vous avez des choses à apprendre de vos apprentis)\nd'avoir partagé ceci avec moi"]},"\n"]}]}}}}</script><script src="/phenomic/phenomic.main.44e9c842.js" async=""></script></body></html>