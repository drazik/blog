<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/phenomic/phenomic.main.4c397c62.css"/></head><body><div id="PhenomicRoot"><div data-reactroot=""><header class="header"><div class="content-wrap"><div class="logo"><h1><a href="/">Jesmo Drazik Blog</a></h1><p class="description">Développeur front-end @ Cozy Cloud</p><div class="find-me"><a href="https://twitter.com/JesmoDrazik">Twitter</a><a href="https://github.com/drazik">GitHub</a></div></div></div></header><div id="content"><div class="content-wrap"><div><article class="article"><h1 style="text-align:center">Supprimer un fichier (ou un dossier) dont le chemin est trop long sur Windows</h1><p><strong>Attention, cet article a été publié il y a plus d&#x27;un an. Son contenu ne doit plus être prit pour argent comptant. Vous devriez recouper les informations qu&#x27;il contient avec d&#x27;autres sources, afin de vous assurer que celles-ci sont toujours d&#x27;actualité.</strong></p><div><p>Quand on travaille avec npm sous windows, on est souvent confronté au message
d&#x27;erreur suivant lorsqu&#x27;on veut supprimer un module non utilisé ou le dossier
<code>node_modules</code> pour quelque raison que ce soit : &quot;Les noms de fichiers source
sont plus longs que ne le permet le système de fichiers. Choisissez un
emplacement de destination avec un nom plus court, ou donnez des noms plus
courts aux fichiers avant de les déplacer&quot;. Il existe un petit outil qui permet
de passer outre cette restriction.</p>
<p><span class="more"></span></p>
<p>Edit 22/01/2016 : il existe en fait une solution un peu plus simple, dont je
dois la découverte à un collègue (qu&#x27;il doit lui-même au web). Il s&#x27;agit
d&#x27;utiliser la commande <code>robocopy</code>, disponible depuis Windows XP, pour
&quot;remplacer&quot; le dossier <code>node_modules</code> par un dossier vide :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>robocopy &lt;chemin vers un dossier vide&gt; &lt;chemin vers node_modules&gt; /MIR</span></span></div></pre>
<p><a href="http://www.michael-whelan.net/deleting-nested-node-modules-folders/">Source</a>.</p>
<p>Si cette solution ne fonctionne pas pour vous pour n&#x27;importe quelle raison, il
reste la suivante.</p>
<p>C&#x27;est OSMStudios qui fournit
<a href="http://osmstudios.net/projects/path-too-long">PathTooLong</a>, écrit en Java, et
qui permet tout simplement de sélectionner un dossier dont le chemin est trop
long pour être supprimé par windows, et le supprimer pour de bon.</p>
<p>Il suffit de télécharger le fichier JAR et de l&#x27;exécuter avec un JDK 1.7 ou
plus :</p>
<pre class="editor editor-colors"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>java -jar PathTooLong.jar</span></span></div></pre>
<p><img src="/posts/supprimer-fichier-chemin-trop-long/01.jpg" alt="Fenêtre principale de PathTooLong"/></p>
<p>Une fenêtre s&#x27;ouvre, il ne vous reste plus qu&#x27;à sélectionner le dossier à
supprimer, à confirmer la suppression et attendre plus ou moins longtemps en
fonction de la taille de celui-ci. Un message de succès s&#x27;affiche une fois le
dossier supprimé.</p>
<p><img src="/posts/supprimer-fichier-chemin-trop-long/02.jpg" alt="Confirmation de suppression"/></p>
<p><img src="/posts/supprimer-fichier-chemin-trop-long/03.jpg" alt="Message de succès"/></p>
<p>Attention, comme l&#x27;indique le message vous demandant de confirmer la
suppression, celle-ci est définitive. Les fichiers ne passeront pas par la
corbeille.</p>
<p>Pour les sceptiques, le code source est disponible sur
<a href="https://github.com/DawsonG/PathTooLong">GitHub</a>.</p></div><footer style="text-align:center"><a href="https://github.com/drazik/blog/edit/master/content/posts/supprimer-fichier-chemin-trop-long/index.md" target="_blank">Proposer des modifications</a></footer></article><div><a href="/">Revenir à l&#x27;accueil</a></div></div></div></div><footer><div class="content-wrap"><section class="copy"><p>© <!-- -->2018<!-- --> Cyrille Jesmo Drazik</p></section></div></footer></div></div><script id="PhenomicHydration" type="text/json">{"path=content%2Fposts&id=supprimer-fichier-chemin-trop-long":{"status":"idle","node":{"filename":"index.md","title":"Supprimer un fichier (ou un dossier) dont le chemin est trop long sur Windows","date":"2015-05-08","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Quand on travaille avec npm sous windows, on est souvent confronté au message\nd'erreur suivant lorsqu'on veut supprimer un module non utilisé ou le dossier\n",{"t":"code","c":["node_modules"]}," pour quelque raison que ce soit : \"Les noms de fichiers source\nsont plus longs que ne le permet le système de fichiers. Choisissez un\nemplacement de destination avec un nom plus court, ou donnez des noms plus\ncourts aux fichiers avant de les déplacer\". Il existe un petit outil qui permet\nde passer outre cette restriction."]},"\n",{"t":"p","c":[{"t":"span","p":{"className":"more"}}]},"\n",{"t":"p","c":["Edit 22/01/2016 : il existe en fait une solution un peu plus simple, dont je\ndois la découverte à un collègue (qu'il doit lui-même au web). Il s'agit\nd'utiliser la commande ",{"t":"code","c":["robocopy"]},", disponible depuis Windows XP, pour\n\"remplacer\" le dossier ",{"t":"code","c":["node_modules"]}," par un dossier vide :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["robocopy <chemin vers un dossier vide> <chemin vers node_modules> /MIR"]}]}]}]},"\n",{"t":"p","c":[{"t":"a","p":{"href":"http://www.michael-whelan.net/deleting-nested-node-modules-folders/"},"c":["Source"]},"."]},"\n",{"t":"p","c":["Si cette solution ne fonctionne pas pour vous pour n'importe quelle raison, il\nreste la suivante."]},"\n",{"t":"p","c":["C'est OSMStudios qui fournit\n",{"t":"a","p":{"href":"http://osmstudios.net/projects/path-too-long"},"c":["PathTooLong"]},", écrit en Java, et\nqui permet tout simplement de sélectionner un dossier dont le chemin est trop\nlong pour être supprimé par windows, et le supprimer pour de bon."]},"\n",{"t":"p","c":["Il suffit de télécharger le fichier JAR et de l'exécuter avec un JDK 1.7 ou\nplus :"]},"\n",{"t":"pre","p":{"className":"editor editor-colors"},"c":[{"t":"div","p":{"className":"line"},"c":[{"t":"span","p":{"className":"syntax--text syntax--plain syntax--null-grammar"},"c":[{"t":"span","c":["java -jar PathTooLong.jar"]}]}]}]},"\n",{"t":"p","c":[{"t":"img","p":{"src":"/posts/supprimer-fichier-chemin-trop-long/01.jpg","alt":"Fenêtre principale de PathTooLong"}}]},"\n",{"t":"p","c":["Une fenêtre s'ouvre, il ne vous reste plus qu'à sélectionner le dossier à\nsupprimer, à confirmer la suppression et attendre plus ou moins longtemps en\nfonction de la taille de celui-ci. Un message de succès s'affiche une fois le\ndossier supprimé."]},"\n",{"t":"p","c":[{"t":"img","p":{"src":"/posts/supprimer-fichier-chemin-trop-long/02.jpg","alt":"Confirmation de suppression"}}]},"\n",{"t":"p","c":[{"t":"img","p":{"src":"/posts/supprimer-fichier-chemin-trop-long/03.jpg","alt":"Message de succès"}}]},"\n",{"t":"p","c":["Attention, comme l'indique le message vous demandant de confirmer la\nsuppression, celle-ci est définitive. Les fichiers ne passeront pas par la\ncorbeille."]},"\n",{"t":"p","c":["Pour les sceptiques, le code source est disponible sur\n",{"t":"a","p":{"href":"https://github.com/DawsonG/PathTooLong"},"c":["GitHub"]},"."]}]}}}}</script><script src="/phenomic/phenomic.main.38b83472.js" async=""></script></body></html>