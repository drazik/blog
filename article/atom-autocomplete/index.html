<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/phenomic/phenomic.main.f985c67e.css"/></head><body><div id="PhenomicRoot"><div data-reactroot=""><header class="header"><div class="content-wrap"><div class="logo"><h1><a href="/">Jesmo Drazik Blog</a></h1><p class="description">Développeur front-end @ Cozy Cloud</p><div class="find-me"><a href="https://twitter.com/JesmoDrazik">Twitter</a><a href="https://github.com/drazik">GitHub</a></div></div></div></header><div id="content"><div class="content-wrap"><div><article class="article"><h1 style="text-align:center">L&#x27;autocomplétion dans Atom</h1><p><strong>Attention, cet article a été publié il y a plus d&#x27;un an. Son contenu ne doit plus être prit pour argent comptant. Vous devriez recouper les informations qu&#x27;il contient avec d&#x27;autres sources, afin de vous assurer que celles-ci sont toujours d&#x27;actualité.</strong></p><div><p>Il y a un peu plus de 2 ans, j&#x27;expliquais pourquoi <a href="/articles/sublime-text-ide-a-la-carte/">je préfère les éditeurs de
texte légers aux gros IDE</a>. C&#x27;est
toujours le cas, à la différence près que j&#x27;ai abandonné Sublime Text pour
Atom. Cette préférence a un inconvénient qui découle d&#x27;un avantage majeur : il
n&#x27;y a pas de véritable autocomplétion pré-packagée. Evidemment, puisque dans ce
genre d&#x27;éditeur, l&#x27;intégration de fonctionnalités spécifique est laissée à
l&#x27;appréciation de l&#x27;utilisateur. Intégrer de l&#x27;autocomplétion pour les langages
qu&#x27;on utilise n&#x27;a rien de complexe, il faut juste prendre 5 minutes pour s&#x27;y
pencher. De mon côté, j&#x27;ai besoin d&#x27;autocomplétion sur du JavaScript, du PHP et
le framework Symfony.</p>
<h2 id="la-base--autocomplete-plus"><a aria-hidden="true" href="#la-base--autocomplete-plus"><span class="icon icon-link"></span></a>La base : <code>autocomplete-plus</code></h2>
<p><a href="https://atom.io/packages/autocomplete-plus"><code>autocomplete-plus</code></a> est le
provider de base de toute autocomplétion dans Atom. Celui-ci est prépackagé
avec Atom. Il propose de base un provider simple, le <code>SymbolProvider</code> qui
propose une autocomplétion basée sur les &quot;symboles&quot; (en gros, les mots)
présents dans le fichier en cours d&#x27;édition.</p>
<p>Ce package est la base car il propose une API sur laquelle d&#x27;autres providers
peuvent venir s&#x27;appuyer pour proposer une autocomplétion plus spécifique et
efficace. Et les providers sont nombreux. Pour s&#x27;en convaincre, il suffit de
faire une <a href="https://atom.io/packages/search?utf8=%E2%9C%93&amp;q=autocomplete">petite recherche sur le site
d&#x27;Atom</a>.</p>
<h2 id="de-lautocomplétion-javascript"><a aria-hidden="true" href="#de-lautocomplétion-javascript"><span class="icon icon-link"></span></a>De l&#x27;autocomplétion JavaScript</h2>
<p>En JavaScript, on a besoin d&#x27;autocomplétion pour le langage en général
(classes, fonctions, variables...), mais aussi pour l&#x27;import de modules.</p>
<h3 id="lautocomplétion-classique"><a aria-hidden="true" href="#lautocomplétion-classique"><span class="icon icon-link"></span></a>L&#x27;autocomplétion &quot;classique&quot;</h3>
<p>Pour ça, on va utiliser <a href="https://atom.io/packages/atom-ternjs"><code>atom-ternjs</code></a>
qui se base sur <a href="https://github.com/ternjs/tern">Tern</a> et <code>autocomplete-plus</code>
pour fournir une autocomplétion très efficace pour JavaScript.</p>
<p>Tern doit être configuré pour chaque projet, ce qui nous laisse la main pour
définir les librairies externes qu&#x27;on veut utiliser. En effet, Tern est capable
de nous proposer de l&#x27;autocomplete pour l&#x27;API de jQuery, d&#x27;AngularJS, NodeJS
(et bien d&#x27;autres) si on le lui demande. Cette configuration peut bien
évidemment évoluer au cours de la vie du projet. Il suffira alors de modifier
le fichier de configuration en y ajoutant ou en enlevant les plugins souhaités.</p>
<p><img src="/posts/atom-autocomplete/atom-ternjs-example.jpg" alt="Autocomplétion dans une classe JavaScript"/></p>
<h3 id="lautocomplétion-dimport-de-modules"><a aria-hidden="true" href="#lautocomplétion-dimport-de-modules"><span class="icon icon-link"></span></a>L&#x27;autocomplétion d&#x27;import de modules</h3>
<p>Pour ne pas avoir à se souvenir de tous les noms des modules qu&#x27;on utilise, on
va utiliser
<a href="https://atom.io/packages/autocomplete-modules"><code>autocomplete-modules</code></a>. Ce
package analyse notre dossier <code>node_modules</code> et nous propose les noms des
modules qui s&#x27;y trouvent lorsqu&#x27;on est en train de taper un <code>require(&#x27;toto&#x27;)</code>
ou un <code>import toto from &#x27;toto&#x27;</code>. Il nous propose aussi nos modules locaux si le
nom qu&#x27;on est en train de taper commence par <code>./</code> ou <code>../</code>.</p>
<p><img src="/posts/atom-autocomplete/autocomplete-modules-example.jpg" alt="Autocomplétion d&#x27;import de modules"/></p>
<h2 id="de-lautocomplétion-php"><a aria-hidden="true" href="#de-lautocomplétion-php"><span class="icon icon-link"></span></a>De l&#x27;autocomplétion PHP</h2>
<p>Pour PHP, comme pour JavaScript, on a bien entendu besoin d&#x27;une autocomplétion
générale pour l&#x27;ensemble du langage. Mais puisque je travaille majoritairement
avec le framework Symfony, j&#x27;ai aussi besoin de choses propres à celui-ci, pour
le nom des services par exemple.</p>
<h3 id="lautocomplétion-générale"><a aria-hidden="true" href="#lautocomplétion-générale"><span class="icon icon-link"></span></a>L&#x27;autocomplétion générale</h3>
<p>Pour l&#x27;autocomplétion générale en PHP,
<a href="https://atom.io/packages/atom-autocomplete-php"><code>atom-autocomplete-php</code></a> fait
un très bon travail. Celui-ci s&#x27;appuie sur Composer et les blocs de
documentation présents dans le code. Pour qu&#x27;il fonctionne, il faut spécifier
le chemin vers votre Composer et votre PHP. Les deux autres paramètres
&quot;Autoload file&quot; et &quot;Classmap files&quot; peuvent être laissés à leur valeur par
défaut pour une utilisation classique de Composer.</p>
<p><img src="/posts/atom-autocomplete/atom-autocomplete-php-example.jpg" alt="Autocomplétion PHP"/></p>
<h3 id="lautocomplétion-symfony"><a aria-hidden="true" href="#lautocomplétion-symfony"><span class="icon icon-link"></span></a>L&#x27;autocomplétion Symfony</h3>
<p>Ici, c&#x27;est sur <a href="https://atom.io/packages/atom-symfony2"><code>atom-symfony2</code></a> qu&#x27;on
va compter. Celui-ci propose de l&#x27;autocomplétion sur différentes choses.
D&#x27;abord, dans les fichiers de configuration, il propose de l&#x27;autocomplétion sur
les noms de services et sur les classes. Ensuite, dans une classe utilisant le
conteneur d&#x27;injection de dépendance, celui-ci propose de l&#x27;autocomplétion sur
les noms de services.</p>
<p>Pour fonctionner, celui-ci nécessite qu&#x27;on ait installé
<code>atom-autocomplete-php</code>, que celui-ci soit fonctionnel, et qu&#x27;on ait bien
spécifier le chemin du fichier <code>console</code> dnas la configuration. Pour ce dernier
détail, si on travaille avec Symfony 2, on peut laisser la valeur par défaut
(<code>app/console</code>). Mais si on travaille avec Symfony 3, il faut spécifier le
nouvel emplacement de ce fichier : <code>bin/console</code>.</p>
<p><img src="/posts/atom-autocomplete/atom-symfony2-example.jpg" alt="Autocomplétion de services dans un contrôleur Symfony"/></p>
<p>Et voici. Pour avoir de l&#x27;autocomplete sur d&#x27;autres langages, il vous suffit de
trouver et d&#x27;installer un plugin pour le ou les langages qui vous intéressent.
Il y a très peu de chance qu&#x27;un tel plugin n&#x27;existe pas déjà.</p>
<p>Petit bonus, pour ne pas avoir à installer les mêmes packages deux fois (au
boulot et à la maison), vous pouvez utiliser
<a href="https://atom.io/packages/sync-settings"><code>sync-settings</code></a>.</p></div><footer style="text-align:center"><a href="https://github.com/drazik/blog/edit/master/content/posts/atom-autocomplete/index.md" target="_blank">Proposer des modifications</a></footer></article><div><a href="/">Revenir à l&#x27;accueil</a></div></div></div></div><footer><div class="content-wrap"><section class="copy"><p>© <!-- -->2019<!-- --> Cyrille Jesmo Drazik</p></section></div></footer></div></div><script id="PhenomicHydration" type="text/json">{"path=content%2Fposts&id=atom-autocomplete":{"status":"idle","node":{"filename":"index.md","title":"L'autocomplétion dans Atom","headings":[{"level":2,"text":"La base : autocomplete-plus","id":"la-base--autocomplete-plus"},{"level":2,"text":"De l'autocomplétion JavaScript","id":"de-lautocomplétion-javascript"},{"level":3,"text":"L'autocomplétion \"classique\"","id":"lautocomplétion-classique"},{"level":3,"text":"L'autocomplétion d'import de modules","id":"lautocomplétion-dimport-de-modules"},{"level":2,"text":"De l'autocomplétion PHP","id":"de-lautocomplétion-php"},{"level":3,"text":"L'autocomplétion générale","id":"lautocomplétion-générale"},{"level":3,"text":"L'autocomplétion Symfony","id":"lautocomplétion-symfony"}],"date":"2016-11-08","timeSensitive":true,"body":{"t":"div","c":[{"t":"p","c":["Il y a un peu plus de 2 ans, j'expliquais pourquoi ",{"t":"a","p":{"href":"/articles/sublime-text-ide-a-la-carte/"},"c":["je préfère les éditeurs de\ntexte légers aux gros IDE"]},". C'est\ntoujours le cas, à la différence près que j'ai abandonné Sublime Text pour\nAtom. Cette préférence a un inconvénient qui découle d'un avantage majeur : il\nn'y a pas de véritable autocomplétion pré-packagée. Evidemment, puisque dans ce\ngenre d'éditeur, l'intégration de fonctionnalités spécifique est laissée à\nl'appréciation de l'utilisateur. Intégrer de l'autocomplétion pour les langages\nqu'on utilise n'a rien de complexe, il faut juste prendre 5 minutes pour s'y\npencher. De mon côté, j'ai besoin d'autocomplétion sur du JavaScript, du PHP et\nle framework Symfony."]},"\n",{"t":"h2","p":{"id":"la-base--autocomplete-plus"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#la-base--autocomplete-plus"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"La base : ",{"t":"code","c":["autocomplete-plus"]}]},"\n",{"t":"p","c":[{"t":"a","p":{"href":"https://atom.io/packages/autocomplete-plus"},"c":[{"t":"code","c":["autocomplete-plus"]}]}," est le\nprovider de base de toute autocomplétion dans Atom. Celui-ci est prépackagé\navec Atom. Il propose de base un provider simple, le ",{"t":"code","c":["SymbolProvider"]}," qui\npropose une autocomplétion basée sur les \"symboles\" (en gros, les mots)\nprésents dans le fichier en cours d'édition."]},"\n",{"t":"p","c":["Ce package est la base car il propose une API sur laquelle d'autres providers\npeuvent venir s'appuyer pour proposer une autocomplétion plus spécifique et\nefficace. Et les providers sont nombreux. Pour s'en convaincre, il suffit de\nfaire une ",{"t":"a","p":{"href":"https://atom.io/packages/search?utf8=%E2%9C%93&q=autocomplete"},"c":["petite recherche sur le site\nd'Atom"]},"."]},"\n",{"t":"h2","p":{"id":"de-lautocomplétion-javascript"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#de-lautocomplétion-javascript"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"De l'autocomplétion JavaScript"]},"\n",{"t":"p","c":["En JavaScript, on a besoin d'autocomplétion pour le langage en général\n(classes, fonctions, variables...), mais aussi pour l'import de modules."]},"\n",{"t":"h3","p":{"id":"lautocomplétion-classique"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#lautocomplétion-classique"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"L'autocomplétion \"classique\""]},"\n",{"t":"p","c":["Pour ça, on va utiliser ",{"t":"a","p":{"href":"https://atom.io/packages/atom-ternjs"},"c":[{"t":"code","c":["atom-ternjs"]}]},"\nqui se base sur ",{"t":"a","p":{"href":"https://github.com/ternjs/tern"},"c":["Tern"]}," et ",{"t":"code","c":["autocomplete-plus"]},"\npour fournir une autocomplétion très efficace pour JavaScript."]},"\n",{"t":"p","c":["Tern doit être configuré pour chaque projet, ce qui nous laisse la main pour\ndéfinir les librairies externes qu'on veut utiliser. En effet, Tern est capable\nde nous proposer de l'autocomplete pour l'API de jQuery, d'AngularJS, NodeJS\n(et bien d'autres) si on le lui demande. Cette configuration peut bien\névidemment évoluer au cours de la vie du projet. Il suffira alors de modifier\nle fichier de configuration en y ajoutant ou en enlevant les plugins souhaités."]},"\n",{"t":"p","c":[{"t":"img","p":{"src":"/posts/atom-autocomplete/atom-ternjs-example.jpg","alt":"Autocomplétion dans une classe JavaScript"}}]},"\n",{"t":"h3","p":{"id":"lautocomplétion-dimport-de-modules"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#lautocomplétion-dimport-de-modules"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"L'autocomplétion d'import de modules"]},"\n",{"t":"p","c":["Pour ne pas avoir à se souvenir de tous les noms des modules qu'on utilise, on\nva utiliser\n",{"t":"a","p":{"href":"https://atom.io/packages/autocomplete-modules"},"c":[{"t":"code","c":["autocomplete-modules"]}]},". Ce\npackage analyse notre dossier ",{"t":"code","c":["node_modules"]}," et nous propose les noms des\nmodules qui s'y trouvent lorsqu'on est en train de taper un ",{"t":"code","c":["require('toto')"]},"\nou un ",{"t":"code","c":["import toto from 'toto'"]},". Il nous propose aussi nos modules locaux si le\nnom qu'on est en train de taper commence par ",{"t":"code","c":["./"]}," ou ",{"t":"code","c":["../"]},"."]},"\n",{"t":"p","c":[{"t":"img","p":{"src":"/posts/atom-autocomplete/autocomplete-modules-example.jpg","alt":"Autocomplétion d'import de modules"}}]},"\n",{"t":"h2","p":{"id":"de-lautocomplétion-php"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#de-lautocomplétion-php"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"De l'autocomplétion PHP"]},"\n",{"t":"p","c":["Pour PHP, comme pour JavaScript, on a bien entendu besoin d'une autocomplétion\ngénérale pour l'ensemble du langage. Mais puisque je travaille majoritairement\navec le framework Symfony, j'ai aussi besoin de choses propres à celui-ci, pour\nle nom des services par exemple."]},"\n",{"t":"h3","p":{"id":"lautocomplétion-générale"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#lautocomplétion-générale"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"L'autocomplétion générale"]},"\n",{"t":"p","c":["Pour l'autocomplétion générale en PHP,\n",{"t":"a","p":{"href":"https://atom.io/packages/atom-autocomplete-php"},"c":[{"t":"code","c":["atom-autocomplete-php"]}]}," fait\nun très bon travail. Celui-ci s'appuie sur Composer et les blocs de\ndocumentation présents dans le code. Pour qu'il fonctionne, il faut spécifier\nle chemin vers votre Composer et votre PHP. Les deux autres paramètres\n\"Autoload file\" et \"Classmap files\" peuvent être laissés à leur valeur par\ndéfaut pour une utilisation classique de Composer."]},"\n",{"t":"p","c":[{"t":"img","p":{"src":"/posts/atom-autocomplete/atom-autocomplete-php-example.jpg","alt":"Autocomplétion PHP"}}]},"\n",{"t":"h3","p":{"id":"lautocomplétion-symfony"},"c":[{"t":"a","p":{"aria-hidden":"true","href":"#lautocomplétion-symfony"},"c":[{"t":"span","p":{"class":"icon icon-link"}}]},"L'autocomplétion Symfony"]},"\n",{"t":"p","c":["Ici, c'est sur ",{"t":"a","p":{"href":"https://atom.io/packages/atom-symfony2"},"c":[{"t":"code","c":["atom-symfony2"]}]}," qu'on\nva compter. Celui-ci propose de l'autocomplétion sur différentes choses.\nD'abord, dans les fichiers de configuration, il propose de l'autocomplétion sur\nles noms de services et sur les classes. Ensuite, dans une classe utilisant le\nconteneur d'injection de dépendance, celui-ci propose de l'autocomplétion sur\nles noms de services."]},"\n",{"t":"p","c":["Pour fonctionner, celui-ci nécessite qu'on ait installé\n",{"t":"code","c":["atom-autocomplete-php"]},", que celui-ci soit fonctionnel, et qu'on ait bien\nspécifier le chemin du fichier ",{"t":"code","c":["console"]}," dnas la configuration. Pour ce dernier\ndétail, si on travaille avec Symfony 2, on peut laisser la valeur par défaut\n(",{"t":"code","c":["app/console"]},"). Mais si on travaille avec Symfony 3, il faut spécifier le\nnouvel emplacement de ce fichier : ",{"t":"code","c":["bin/console"]},"."]},"\n",{"t":"p","c":[{"t":"img","p":{"src":"/posts/atom-autocomplete/atom-symfony2-example.jpg","alt":"Autocomplétion de services dans un contrôleur Symfony"}}]},"\n",{"t":"p","c":["Et voici. Pour avoir de l'autocomplete sur d'autres langages, il vous suffit de\ntrouver et d'installer un plugin pour le ou les langages qui vous intéressent.\nIl y a très peu de chance qu'un tel plugin n'existe pas déjà."]},"\n",{"t":"p","c":["Petit bonus, pour ne pas avoir à installer les mêmes packages deux fois (au\nboulot et à la maison), vous pouvez utiliser\n",{"t":"a","p":{"href":"https://atom.io/packages/sync-settings"},"c":[{"t":"code","c":["sync-settings"]}]},"."]}]}}}}</script><script src="/phenomic/phenomic.main.f985c67e.js" async=""></script></body></html>